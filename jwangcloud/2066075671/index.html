<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png">
  <link rel="mask-icon" href="/images/favicon.png" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"www.jwang.cloud","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":true,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":true,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":true,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":5,"unescape":false,"preload":true},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta property="og:type" content="article">
<meta property="og:title" content="redis">
<meta property="og:url" content="https://www.jwang.cloud/jwangcloud/2066075671/index.html">
<meta property="og:site_name" content="jwangcloud">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://jwangtec.oss-cn-chengdu.aliyuncs.com/jwangcloud/index/redis.jpeg">
<meta property="og:image" content="https://jwangtec.oss-cn-chengdu.aliyuncs.com/jwangcloud/redis/img/1.png">
<meta property="og:image" content="https://jwangtec.oss-cn-chengdu.aliyuncs.com/jwangcloud/redis/img/8.png">
<meta property="og:image" content="https://jwangtec.oss-cn-chengdu.aliyuncs.com/jwangcloud/redis/img/2.png">
<meta property="og:image" content="https://jwangtec.oss-cn-chengdu.aliyuncs.com/jwangcloud/redis/img/tu_10.png">
<meta property="og:image" content="https://www.jwang.cloud/jwangcloud/2066075671/!%5Bimg%5D(https://jwangtec.oss-cn-chengdu.aliyuncs.com/jwangcloud/redis/img/3.png">
<meta property="og:image" content="https://jwangtec.oss-cn-chengdu.aliyuncs.com/jwangcloud/redis/img/4.png">
<meta property="og:image" content="https://jwangtec.oss-cn-chengdu.aliyuncs.com/jwangcloud/redis/img/1560064246957.png">
<meta property="og:image" content="https://jwangtec.oss-cn-chengdu.aliyuncs.com/jwangcloud/redis/img/image-20191223100124678.png">
<meta property="og:image" content="https://jwangtec.oss-cn-chengdu.aliyuncs.com/jwangcloud/redis/img/image-20191223104457481.png">
<meta property="og:image" content="https://jwangtec.oss-cn-chengdu.aliyuncs.com/jwangcloud/redis/img/wps9BB3.tmp.jpg">
<meta property="og:image" content="https://jwangtec.oss-cn-chengdu.aliyuncs.com/jwangcloud/redis/img/wps9BB4.tmp.jpg">
<meta property="og:image" content="https://jwangtec.oss-cn-chengdu.aliyuncs.com/jwangcloud/redis/img/tu_14-1571712041246.png">
<meta property="og:image" content="https://jwangtec.oss-cn-chengdu.aliyuncs.com/jwangcloud/redis/img/tu_15-1571712041246.png">
<meta property="og:image" content="https://jwangtec.oss-cn-chengdu.aliyuncs.com/jwangcloud/redis/img/tu_12-1571712041245.png">
<meta property="og:image" content="https://jwangtec.oss-cn-chengdu.aliyuncs.com/jwangcloud/redis/img/tu_13-1571712041246.png">
<meta property="og:image" content="https://jwangtec.oss-cn-chengdu.aliyuncs.com/jwangcloud/redis/img/tu_16-1571712041246.png">
<meta property="og:image" content="https://jwangtec.oss-cn-chengdu.aliyuncs.com/jwangcloud/redis/img/1571210295308.png">
<meta property="og:image" content="https://jwangtec.oss-cn-chengdu.aliyuncs.com/jwangcloud/redis/img/code.png">
<meta property="article:published_time" content="2019-05-06T10:18:19.000Z">
<meta property="article:modified_time" content="2021-06-23T13:47:26.962Z">
<meta property="article:author" content="jwangtec">
<meta property="article:tag" content="redis常用数据类型及操作命令">
<meta property="article:tag" content="jedis操作redis">
<meta property="article:tag" content="redis持久化">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://jwangtec.oss-cn-chengdu.aliyuncs.com/jwangcloud/index/redis.jpeg">

<link rel="canonical" href="https://www.jwang.cloud/jwangcloud/2066075671/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>redis | jwangcloud</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">jwangcloud</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

  <a href="https://github.com/JwangTec" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://www.jwang.cloud/jwangcloud/2066075671/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="jwangtec">
      <meta itemprop="description" content="小脑袋，大智慧">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="jwangcloud">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          redis
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-05-06 18:18:19" itemprop="dateCreated datePublished" datetime="2019-05-06T18:18:19+08:00">2019-05-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-06-23 21:47:26" itemprop="dateModified" datetime="2021-06-23T21:47:26+08:00">2021-06-23</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/redis/" itemprop="url" rel="index"><span itemprop="name">redis</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/jwangcloud/2066075671/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/jwangcloud/2066075671/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>24k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>22 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <img data-src="https://jwangtec.oss-cn-chengdu.aliyuncs.com/jwangcloud/index/redis.jpeg" width="1000" height="200" align="middle">

<span id="more"></span>


<h1 id="第一章-Redis介绍和安装"><a href="#第一章-Redis介绍和安装" class="headerlink" title="第一章-Redis介绍和安装"></a>第一章-Redis介绍和安装</h1><h2 id="知识点-Nosql概述"><a href="#知识点-Nosql概述" class="headerlink" title="知识点-Nosql概述"></a>知识点-Nosql概述</h2><h3 id="1-目标"><a href="#1-目标" class="headerlink" title="1.目标"></a>1.目标</h3><ul>
<li>能够理解nosql的概念</li>
</ul>
<h3 id="2-路径"><a href="#2-路径" class="headerlink" title="2.路径"></a>2.路径</h3><ul>
<li>什么是NOSQL</li>
<li>为什么需要NOSQL</li>
<li>主流的NOSQL产品</li>
<li>NOSQL的特点</li>
</ul>
<h3 id="3-讲解"><a href="#3-讲解" class="headerlink" title="3.讲解"></a>3.讲解</h3><h4 id="3-1-什么是NOSQL"><a href="#3-1-什么是NOSQL" class="headerlink" title="3.1 什么是NOSQL"></a>3.1 什么是NOSQL</h4><p>​    NoSQL(NoSQL = Not Only SQL)，意即“不仅仅是SQL”，是一项全新的数据库理念，泛指<strong>非关系型的数据库</strong>。</p>
<h4 id="3-2-为什么需要学习NOSQL"><a href="#3-2-为什么需要学习NOSQL" class="headerlink" title="3.2.为什么需要学习NOSQL"></a>3.2.为什么需要学习NOSQL</h4><p>​    随着互联网的高速崛起，网站的用户群的增加，访问量的上升，传统(关系型)数据库上都开始出现了性能瓶颈，web程序不再仅仅专注在功能上，同时也在追求性能。所以NOSQL数据库应运而上，具体表现为对如下三高问题的解决：</p>
<ul>
<li><p>High performance - 对数据库高并发读写的需求    </p>
<p>​    web2.0网站要根据用户个性化信息来实时生成动态页面和提供动态信息，所以基本上无法使用动态页面静态化技术，因此数据库并发负载非常高，往往要达到每秒上万次读写请求。关系数据库应付上万次SQL查询还勉强顶得住，但是应付上万次SQL写数据请求，硬盘IO就已经无法承受了。其实对于普通的BBS网站，往往也存在对高并发写请求的需求，例如网站的实时统计在线用户状态，记录热门帖子的点击次数，投票计数等，因此这是一个相当普遍的需求。</p>
</li>
<li><p>Huge Storage - 对海量数据的高效率存储和访问的需求    </p>
<p>​    类似Facebook，twitter，Friendfeed这样的SNS网站，每天用户产生海量的用户动态，以Friendfeed为例，一个月就达到了2.5亿条用户动态，对于关系数据库来说，在一张2.5亿条记录的表里面进行SQL查询，效率是极其低下乃至不可忍受的。再例如大型web网站的用户登录系统，例如腾讯，盛大，动辄数以亿计的帐号，关系数据库也很难应付。 </p>
</li>
<li><p>High Scalability &amp;&amp; High Availability- 对数据库的高可扩展性和高可用性的需求     </p>
<p>​    在基于web的架构当中，数据库是最难进行横向扩展的，当一个应用系统的用户量和访问量与日俱增的时候，你的数据库却没有办法像web server和app server那样简单的通过添加更多的硬件和服务节点来扩展性能和负载能力。对于很多需要提供24小时不间断服务的网站来说，对数据库系统进行升级和扩展是非常痛苦的事情，往往需要停机维护和数据迁移，为什么数据库不能通过不断的添加服务器节点来实现扩展呢？</p>
</li>
</ul>
<h4 id="3-3-主流的NOSQL产品"><a href="#3-3-主流的NOSQL产品" class="headerlink" title="3.3 主流的NOSQL产品"></a>3.3 主流的NOSQL产品</h4><p><img data-src="https://jwangtec.oss-cn-chengdu.aliyuncs.com/jwangcloud/redis/img/1.png"></p>
<ul>
<li><p> 键值(Key-Value)存储数据库  Redis</p>
</li>
<li><p> 列存储数据库(分布式)</p>
</li>
<li><p> 文档型数据库 (Web应用与Key-Value类似，Value是结构化的）Mongo DB</p>
</li>
<li><p> 图形(Graph)数据库(图结构)</p>
</li>
</ul>
<h4 id="3-4-NOSQL的特点"><a href="#3-4-NOSQL的特点" class="headerlink" title="3.4 NOSQL的特点"></a>3.4 NOSQL的特点</h4><p>​    在大数据存取上具备关系型数据库无法比拟的性能优势，例如：</p>
<ul>
<li><p>易扩展</p>
<p> ​      NoSQL数据库种类繁多，但是一个共同的特点都是去掉关系数据库的关系型特性。数据之间无关系，这样就非常容易扩展。也无形之间，在架构的层面上带来了可扩展的能力。</p>
</li>
<li><p>大数据量，高性能   </p>
<pre><code>       NoSQL数据库都具有非常高的读写性能，尤其在大数据量下，同样表现优秀。这得益于它的无关系性，数据库的结构简单、在内存中存取数据。
</code></pre>
</li>
<li><p> 灵活的数据模型  </p>
</li>
</ul>
<p>  ​    NoSQL无需事先为要存储的数据建立字段，随时可以存储自定义的数据格式。而在关系数据库里，增删字段是一件非常麻烦的事情。如果是非常大数据量的表，增加字段简直就是一个噩梦。这点在大数据量的Web2.0时代尤其明显。</p>
<ul>
<li><p>高可用  </p>
<p>​    NoSQL在不太影响性能的情况，就可以方便的实现高可用的架构。比如Cassandra，HBase模型，通过复制模型也能实现高可用。</p>
</li>
</ul>
<h3 id="4-小结"><a href="#4-小结" class="headerlink" title="4.小结"></a>4.小结</h3><ol>
<li><p>NoSql:  非关系型数据库</p>
</li>
<li><p>为什么要学习NoSQL</p>
<ul>
<li>高并发读写</li>
<li>海量数据查询效率</li>
<li>高扩展, 高可用</li>
</ul>
<blockquote>
<p>解决关系型数据库的瓶颈</p>
</blockquote>
</li>
<li><p>Nosql产品</p>
<ul>
<li>Redis</li>
<li>MongoDB</li>
</ul>
</li>
</ol>
<h2 id="知识点-Redis概述"><a href="#知识点-Redis概述" class="headerlink" title="知识点-Redis概述"></a>知识点-Redis概述</h2><h3 id="1-目标-1"><a href="#1-目标-1" class="headerlink" title="1.目标"></a>1.目标</h3><ul>
<li>知道什么是Redis以及Redis的应用场景</li>
</ul>
<h3 id="2-路径-1"><a href="#2-路径-1" class="headerlink" title="2.路径"></a>2.路径</h3><ul>
<li>什么是Redis</li>
<li> redis的应用场景</li>
</ul>
<h3 id="3-讲解-1"><a href="#3-讲解-1" class="headerlink" title="3.讲解"></a>3.讲解</h3><h4 id="3-1-什么是Redis"><a href="#3-1-什么是Redis" class="headerlink" title="3.1.什么是Redis"></a>3.1.什么是Redis</h4><p>​    Redis是用C语言开发的一个开源的高性能<strong>键值对（key-value）数据库</strong>，<strong>数据是保存在内存里面的</strong>. 官方提供测试数据，50个并发执行100000个请求,读的速度是110000次/s,写的速度是81000次/s ，且Redis通过提供多种键值数据类型来适应不同场景下的存储需求，目前为止Redis支持的键值数据类型如下： </p>
<ul>
<li>字符串类型 string(最常用)</li>
<li>散列类型 hash  </li>
<li>列表类型 list</li>
<li>集合类型 set   </li>
<li>有序集合类型 sortedset</li>
</ul>
<h4 id="3-2-redis的应用场景"><a href="#3-2-redis的应用场景" class="headerlink" title="3.2 redis的应用场景"></a>3.2 redis的应用场景</h4><ul>
<li><strong>缓存（数据查询、短连接、新闻内容、商品内容等等）</strong></li>
<li><strong>任务队列。（秒杀、抢购、12306等等）</strong></li>
<li><strong>数据过期处理（可以精确到毫秒, 短信验证码)</strong>       </li>
<li><strong>分布式集群架构中的session分离  session 服务器里面</strong></li>
<li>聊天室的在线好友列表 </li>
<li>应用排行榜</li>
<li><strong>网站访问统计</strong></li>
</ul>
<h3 id="4-小结-1"><a href="#4-小结-1" class="headerlink" title="4.小结"></a>4.小结</h3><ol>
<li>Redis: 由C语言编写的一种NoSQL, 以key-value存在, 数据保存在内存里面 性能特别高</li>
<li>Redis应用场景<ul>
<li>缓存(eg: 电商项目里面首页的轮播图)</li>
<li>队列(eg: 秒杀)</li>
<li>数据过期处理(eg: 短信验证码…)</li>
<li>分布式集群架构中的session分离</li>
</ul>
</li>
</ol>
<h2 id="实操-window版Redis的安装"><a href="#实操-window版Redis的安装" class="headerlink" title="实操-window版Redis的安装"></a>实操-window版Redis的安装</h2><h3 id="1-目标-2"><a href="#1-目标-2" class="headerlink" title="1.目标"></a>1.目标</h3><ul>
<li>掌握window版Redis的安装与使用</li>
</ul>
<h3 id="2-路径-2"><a href="#2-路径-2" class="headerlink" title="2.路径"></a>2.路径</h3><ol>
<li><p>Redis的下载</p>
</li>
<li><p>Redis的安装</p>
</li>
<li><p>启动</p>
</li>
</ol>
<h3 id="3-讲解-2"><a href="#3-讲解-2" class="headerlink" title="3.讲解"></a>3.讲解</h3><h4 id="3-1-windows版Redis的下载"><a href="#3-1-windows版Redis的下载" class="headerlink" title="3.1.windows版Redis的下载"></a>3.1.windows版Redis的下载</h4><p>​    官方提倡使用Linux版的Redis，所以官网值提供了Linux版的Redis下载，我们可以从GitHub上下载window版的Redis，具体链接地址如下：</p>
<ul>
<li>官网下载地址：<a target="_blank" rel="noopener" href="http://redis.io/download">http://redis.io/download</a></li>
</ul>
<ul>
<li>github下载地址：<a target="_blank" rel="noopener" href="https://github.com/MSOpenTech/redis/tags">https://github.com/MSOpenTech/redis/tags</a></li>
</ul>
<p><img data-src="https://jwangtec.oss-cn-chengdu.aliyuncs.com/jwangcloud/redis/img/8.png" alt="img"></p>
<p>在今天的课程资料中提供的下载完毕的window版本的Redis：</p>
<p><img data-src="https://jwangtec.oss-cn-chengdu.aliyuncs.com/jwangcloud/redis/img/2.png" alt="img"></p>
<h4 id="3-2-Redis的安装"><a href="#3-2-Redis的安装" class="headerlink" title="3.2 Redis的安装"></a>3.2 Redis的安装</h4><p>解压Redis压缩包后，见到如下目录机构：</p>
<table>
<thead>
<tr>
<th>目录或文件</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>redis-benchmark</td>
<td>性能测试工具</td>
</tr>
<tr>
<td>redis-check-aof</td>
<td>AOF文件修复工具</td>
</tr>
<tr>
<td>redis-check-dump</td>
<td>RDB文件检查工具（快照持久化文件）</td>
</tr>
<tr>
<td>redis-cli</td>
<td>命令行客户端</td>
</tr>
<tr>
<td>redis-server</td>
<td>redis服务器启动命令</td>
</tr>
<tr>
<td>redis.windows.conf</td>
<td>redis核心配置文件</td>
</tr>
</tbody></table>
<h4 id="3-3-启动"><a href="#3-3-启动" class="headerlink" title="3.3 启动"></a>3.3 启动</h4><p><img data-src="https://jwangtec.oss-cn-chengdu.aliyuncs.com/jwangcloud/redis/img/tu_10.png" alt="img"></p>
<ul>
<li>安装:window版的安装及其简单，解压Redis压缩包完成即安装完毕</li>
<li>启动与关闭: 双击Redis目录中redis-server.exe可以启动redis服务，Redis服务占用的端口是6379</li>
</ul>
<p><img data-src="!%5Bimg%5D(https://jwangtec.oss-cn-chengdu.aliyuncs.com/jwangcloud/redis/img/3.png"></p>
<ul>
<li>点击redis-cli</li>
</ul>
<p> <img data-src="https://jwangtec.oss-cn-chengdu.aliyuncs.com/jwangcloud/redis/img/4.png" alt="img">) </p>
<h3 id="4-小结-2"><a href="#4-小结-2" class="headerlink" title="4.小结"></a>4.小结</h3><ol>
<li>redis目录结构</li>
</ol>
<p><img data-src="https://jwangtec.oss-cn-chengdu.aliyuncs.com/jwangcloud/redis/img/1560064246957.png" alt="1560064246957"> </p>
<ol start="2">
<li>启动<ul>
<li>先点击redis-server.exe</li>
</ul>
</li>
</ol>
<ul>
<li>再点击redis-cli.exe</li>
</ul>
<ol start="3">
<li><p>Redis</p>
<ul>
<li>端口是 6379</li>
<li>默认不需要密码</li>
</ul>
</li>
</ol>
<h2 id="实操-Linux版本Redis的安装"><a href="#实操-Linux版本Redis的安装" class="headerlink" title="实操-Linux版本Redis的安装"></a>实操-Linux版本Redis的安装</h2><h3 id="1-目标-3"><a href="#1-目标-3" class="headerlink" title="1.目标"></a>1.目标</h3><ul>
<li><input disabled type="checkbox"> 掌握Redis的安装</li>
</ul>
<h3 id="2-讲解"><a href="#2-讲解" class="headerlink" title="2.讲解"></a>2.讲解</h3><ol>
<li>在虚拟机中安装c++环境</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install gcc-c++</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>下载Redis（资料里面的Linux版本的redis）</li>
<li>上传到Linux</li>
<li>解压</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxf redis-4.0.14.tar.gz</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>编译</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd redis-4.0.14</span><br><span class="line">make</span><br></pre></td></tr></table></figure>

<ol start="6">
<li> 创建一个目录</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir &#x2F;usr&#x2F;local&#x2F;redis</span><br></pre></td></tr></table></figure>

<ol start="7">
<li>安装</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make install PREFIX&#x3D;&#x2F;usr&#x2F;local&#x2F;redis</span><br></pre></td></tr></table></figure>

<ol start="8">
<li>进入安装好的redis目录,复制配置文件</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd &#x2F;usr&#x2F;local&#x2F;redis&#x2F;bin</span><br><span class="line">cp &#x2F;root&#x2F;redis-4.0.14&#x2F;redis.conf  &#x2F;usr&#x2F;local&#x2F;redis&#x2F;bin      -- 这句命令的作用是将redis-4.0.14中的redis.conf文件拷贝到bin目录</span><br></pre></td></tr></table></figure>

<ol start="9">
<li>修改配置文件</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 修改配置文件</span></span><br><span class="line">vi redis.conf</span><br><span class="line"><span class="comment"># Redis后台启动</span></span><br><span class="line">修改 daemonize 为 yes</span><br><span class="line"><span class="comment"># Redis服务器可以跨网络访问 </span></span><br><span class="line">修改 <span class="built_in">bind</span> 为 0.0.0.0</span><br><span class="line"><span class="comment"># 开启aof持久化，这个可以不做</span></span><br><span class="line">appendonly yes</span><br></pre></td></tr></table></figure>

<ol start="10">
<li>启动redis</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./redis-server redis.conf</span><br></pre></td></tr></table></figure>

<ol start="11">
<li>如果想远程连接redis，那么就要放行6379端口</li>
</ol>
<h3 id="3-小结"><a href="#3-小结" class="headerlink" title="3.小结"></a>3.小结</h3><h2 id="实操-Redis的客户端安装"><a href="#实操-Redis的客户端安装" class="headerlink" title="实操-Redis的客户端安装"></a>实操-Redis的客户端安装</h2><h3 id="1-目标-4"><a href="#1-目标-4" class="headerlink" title="1.目标"></a>1.目标</h3><p>​    装Redis的客户端</p>
<h3 id="2-步骤"><a href="#2-步骤" class="headerlink" title="2.步骤"></a>2.步骤</h3><p> <img data-src="https://jwangtec.oss-cn-chengdu.aliyuncs.com/jwangcloud/redis/img/image-20191223100124678.png" alt="image-20191223100124678"></p>
<ul>
<li>双击, 下一步 …</li>
<li>安装没有中文和空格目录</li>
</ul>
<h1 id="第二章-Redis的数据类型"><a href="#第二章-Redis的数据类型" class="headerlink" title="第二章-Redis的数据类型"></a>第二章-Redis的数据类型</h1><h2 id="知识点-redis中数据结构-类型"><a href="#知识点-redis中数据结构-类型" class="headerlink" title="知识点-redis中数据结构/类型"></a>知识点-redis中数据结构/类型</h2><h3 id="1-目标-5"><a href="#1-目标-5" class="headerlink" title="1.目标"></a>1.目标</h3><ul>
<li>能够说出Redis中的数据类型</li>
</ul>
<h3 id="2-路径-3"><a href="#2-路径-3" class="headerlink" title="2.路径"></a>2.路径</h3><ul>
<li>Redis的数据类型类型介绍</li>
<li>Redis中的key</li>
</ul>
<h3 id="3-讲解-3"><a href="#3-讲解-3" class="headerlink" title="3.讲解"></a>3.讲解</h3><h4 id="3-1Redis的数据类型"><a href="#3-1Redis的数据类型" class="headerlink" title="3.1Redis的数据类型"></a>3.1Redis的数据类型</h4><p>​    redis中存储的数据是以<strong>key-value</strong>的形式存在的.其中value支持5种数据类型 .在日常开发中主要使用比较多的有字符串、哈希、字符串列表、字符串集合四种类型，其中最为常用的是字符串类型。   </p>
<p>​    字符串(String)           </p>
<p>​    哈希(hash)                       类似HashMap</p>
<p>​    字符串列表(list)  </p>
<p>​    字符串集合(set)               类似HashSet              </p>
<p>​    有序的字符串集合(sorted-set或者叫zset)       </p>
<h4 id="3-2-key"><a href="#3-2-key" class="headerlink" title="3.2 key"></a>3.2 key</h4><ul>
<li><p>key不要太长(不能&gt;1024个字节) </p>
</li>
<li><p>也不要太短 .  可读性差.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">项目名:模块:key  eg: mm:user:name</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="4-小结-3"><a href="#4-小结-3" class="headerlink" title="4.小结"></a>4.小结</h3><ol>
<li>Redis数据类型</li>
</ol>
<ul>
<li>字符串 </li>
<li>Hash</li>
<li>List</li>
<li>Set</li>
<li>ZSET</li>
</ul>
<h2 id="知识点-Redis字符串-String"><a href="#知识点-Redis字符串-String" class="headerlink" title="知识点-Redis字符串(String)"></a>知识点-Redis字符串(String)</h2><h3 id="1-目标-6"><a href="#1-目标-6" class="headerlink" title="1.目标"></a>1.目标</h3><ul>
<li>能够使用redis的string操作命令</li>
</ul>
<h3 id="2-路径-4"><a href="#2-路径-4" class="headerlink" title="2.路径"></a>2.路径</h3><ol>
<li>Redis字符串(String)概述</li>
<li>应用场景</li>
<li>常见命令</li>
<li>应用举例</li>
</ol>
<h3 id="2-讲解-1"><a href="#2-讲解-1" class="headerlink" title="2.讲解"></a>2.讲解</h3><h4 id="2-1概述"><a href="#2-1概述" class="headerlink" title="2.1概述"></a>2.1概述</h4><p>​    string是redis最基本的类型,用的也是最多的，一个key对应一个value。 一个键最大能存储512MB. </p>
<h4 id="2-2-应用场景"><a href="#2-2-应用场景" class="headerlink" title="2.2 应用场景"></a>2.2 应用场景</h4><ol>
<li><p>缓存功能：字符串最经典的使用场景，redis作为缓存层，Mysql作为储存层，绝大部分请求数据都是在redis中操作，由于redis具有支撑高并发特性，所以缓存通常能起到加速读写和降低 后端压力的作用。 </p>
</li>
<li><p>计数器功能：比如视频播放次数，点赞次数。</p>
</li>
<li><p>ID递增</p>
</li>
</ol>
<h4 id="2-3-常见命令"><a href="#2-3-常见命令" class="headerlink" title="2.3 常见命令"></a>2.3 常见命令</h4><table>
<thead>
<tr>
<th>命令</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td>SET key value(重点)</td>
<td align="left">设置指定 key 的值</td>
</tr>
<tr>
<td>GET key(重点)</td>
<td align="left">获取指定 key 的值</td>
</tr>
<tr>
<td>DEL key</td>
<td align="left">删除key</td>
</tr>
<tr>
<td>GETSET key value</td>
<td align="left">将给定 key 的值设为 value ，并返回 key 的旧值(old value)。</td>
</tr>
<tr>
<td>SETEX key seconds value(重点)</td>
<td align="left">将值 value 关联到 key ，并将 key 的过期时间设为 seconds (以秒为单位)。</td>
</tr>
<tr>
<td>SETNX key value</td>
<td align="left">只有在 key 不存在时设置 key 的值。</td>
</tr>
<tr>
<td>INCR key(重点)</td>
<td align="left">将 key 中储存的数字值增一。</td>
</tr>
<tr>
<td>INCRBY key increment</td>
<td align="left">将 key 所储存的值加上给定的增量值（increment） 。</td>
</tr>
<tr>
<td>DECR key</td>
<td align="left">将 key 中储存的数字值减一。</td>
</tr>
<tr>
<td>DECRBY key decrement</td>
<td align="left">key 所储存的值减去给定的减量值（decrement） 。</td>
</tr>
</tbody></table>
<h4 id="2-4应用举例"><a href="#2-4应用举例" class="headerlink" title="2.4应用举例"></a>2.4应用举例</h4><p>商品编号、订单号采用string的递增数字特性生成。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">定义商品编号key：product:id</span><br><span class="line">192.168.101.3:7003&gt; INCR product:id</span><br><span class="line">(integer) 2</span><br><span class="line">192.168.101.3:7003&gt; INCR product:id</span><br><span class="line">(integer) 3</span><br></pre></td></tr></table></figure>



<h3 id="4-小结-4"><a href="#4-小结-4" class="headerlink" title="4.小结"></a>4.小结</h3><h4 id="4-1String"><a href="#4-1String" class="headerlink" title="4.1String"></a>4.1String</h4><ol>
<li>String是用的最多的一个数据类型.</li>
<li>我们可以把java对象转成json 再存进去</li>
<li>应用<ul>
<li>缓存</li>
<li>递增,减(点赞…)</li>
<li>ID增长</li>
</ul>
</li>
</ol>
<h4 id="4-2使用string的问题"><a href="#4-2使用string的问题" class="headerlink" title="4.2使用string的问题"></a>4.2使用string的问题</h4><p>​    假设有User对象以JSON序列化的形式存储到Redis中，User对象有id，username、password、age、name等属性，存储的过程如下： 保存、更新：  User对象 ==&gt; json(string) ==&gt;redis </p>
<p>​    如果在业务上只是更新age属性，其他的属性并不做更新我应该怎么做呢？ 如果仍然采用上边的方法在传输、处理时会造成资源浪费，下边讲的hash可以很好的解决这个问题</p>
<h2 id="知识点-Redis-哈希-Hash"><a href="#知识点-Redis-哈希-Hash" class="headerlink" title="知识点-Redis 哈希(Hash)"></a>知识点-Redis 哈希(Hash)</h2><h3 id="1-目标-7"><a href="#1-目标-7" class="headerlink" title="1.目标"></a>1.目标</h3><ul>
<li>能够使用redis的hash操作命令</li>
</ul>
<h3 id="2-路径-5"><a href="#2-路径-5" class="headerlink" title="2.路径"></a>2.路径</h3><ol>
<li>Redis 哈希(Hash)概述</li>
<li>应用场景</li>
<li>常见命令</li>
<li>应用举例</li>
</ol>
<h3 id="3-讲解-4"><a href="#3-讲解-4" class="headerlink" title="3.讲解"></a>3.讲解</h3><h4 id="3-1-概述"><a href="#3-1-概述" class="headerlink" title="3.1 概述"></a>3.1 概述</h4><p>​    Redis中hash 是一个键值对集合。 </p>
<p>​    Redis hash是一个string类型的field和value的映射表，hash特别适合用于存储对象。</p>
<p>​    Redis存储hash可以看成是String key 和String value的map容器.  也就是说把值看成map集合.</p>
<p>​     它它特别适合存储对象相比较而言，将一个对象类型存储在Hash类型里要比存储在String类型里占用更少的内存空间并方便存取整个对象 </p>
<p><img data-src="https://jwangtec.oss-cn-chengdu.aliyuncs.com/jwangcloud/redis/img/image-20191223104457481.png" alt="image-20191223104457481"> </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">key				value</span><br><span class="line">u1			name	zs</span><br><span class="line">			age		18</span><br><span class="line">			</span><br><span class="line">u2			name	ls</span><br><span class="line">   			age		19</span><br><span class="line">   			</span><br><span class="line">   			Map&lt;String,Map&gt;</span><br></pre></td></tr></table></figure>



<h4 id="3-2-应用场景"><a href="#3-2-应用场景" class="headerlink" title="3.2 应用场景"></a>3.2 应用场景</h4><p>​      用一个对象来存储用户信息，商品信息，订单信息等等。 </p>
<h4 id="3-3-常见命令"><a href="#3-3-常见命令" class="headerlink" title="3.3 常见命令"></a>3.3 常见命令</h4><table>
<thead>
<tr>
<th align="left">命令</th>
<th>命令描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">hset key filed value</td>
<td>将哈希表 key 中的字段 field 的值设为 value</td>
</tr>
<tr>
<td align="left">hmset key field1 value1 [field2  value2]…(重点)</td>
<td>同时将多个 field-value (字段-值)对设置到哈希表 key 中</td>
</tr>
<tr>
<td align="left">hget key filed</td>
<td>获取存储在哈希表中指定字段的值</td>
</tr>
<tr>
<td align="left">hmget key filed1 filed2 (重点)</td>
<td>获取多个给定字段的值</td>
</tr>
<tr>
<td align="left">hdel key filed1 [filed2] (重点)</td>
<td>删除一个或多个哈希表字段</td>
</tr>
<tr>
<td align="left">hlen key</td>
<td>获取哈希表中字段的数量</td>
</tr>
<tr>
<td align="left">del key</td>
<td>删除整个hash(对象)</td>
</tr>
<tr>
<td align="left">HGETALL key  (重点)</td>
<td>获取在哈希表中指定 key 的所有字段和值</td>
</tr>
<tr>
<td align="left">HKEYS key</td>
<td>获取所有哈希表中的字段</td>
</tr>
<tr>
<td align="left">HVALS key</td>
<td>获取哈希表中所有值</td>
</tr>
</tbody></table>
<h4 id="3-4应用举例"><a href="#3-4应用举例" class="headerlink" title="3.4应用举例"></a>3.4应用举例</h4><p>存储商品信息</p>
<ul>
<li>商品字段【商品id、商品名称、商品价格】</li>
<li>定义商品信息的key, 商品1001的信息在 Redis中的key为：[items:1001]</li>
<li>存储商品信息</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">HMSET items:1001 id 3 name apple price 999.9 </span><br></pre></td></tr></table></figure>

<h3 id="4-小结-5"><a href="#4-小结-5" class="headerlink" title="4.小结"></a>4.小结</h3><ol>
<li>Hash 是键值对存在的 类似Java里面的HashMap</li>
<li>特别适合存对象, 方便操作对象里面的某一个字段</li>
</ol>
<h2 id="知识点-Redis-列表-List"><a href="#知识点-Redis-列表-List" class="headerlink" title="知识点-Redis 列表(List)"></a>知识点-Redis 列表(List)</h2><h3 id="1-目标-8"><a href="#1-目标-8" class="headerlink" title="1.目标"></a>1.目标</h3><ul>
<li><input disabled type="checkbox"> 能够使用redis的list操作命令 </li>
</ul>
<h3 id="2-路径-6"><a href="#2-路径-6" class="headerlink" title="2.路径"></a>2.路径</h3><ol>
<li>List类型</li>
<li>Redis 列表(List)概述 </li>
<li>应用场景</li>
<li>常见命令</li>
<li>应用举例</li>
</ol>
<h3 id="3-讲解-5"><a href="#3-讲解-5" class="headerlink" title="3.讲解"></a>3.讲解</h3><h4 id="3-1List类型"><a href="#3-1List类型" class="headerlink" title="3.1List类型"></a>3.1List类型</h4><p>​    ArrayList使用数组方式存储数据，所以根据索引查询数据速度快，而新增或者删除元素时需要设计到位移操作，所以比较慢。 </p>
<p>​     LinkedList使用双向链表方式存储数据，每个元素都记录前后元素的指针，所以插入、删除数据时只是更改前后元素的指针指向即可，速度非常快。然后通过下标查询元素时需要从头开始索引，所以比较慢，但是如果查询前几个元素或后几个元素速度比较快。</p>
<p><img data-src="https://jwangtec.oss-cn-chengdu.aliyuncs.com/jwangcloud/redis/img/wps9BB3.tmp.jpg" alt="img"> </p>
<p> <img data-src="https://jwangtec.oss-cn-chengdu.aliyuncs.com/jwangcloud/redis/img/wps9BB4.tmp.jpg" alt="img"></p>
<h4 id="3-2-概述"><a href="#3-2-概述" class="headerlink" title="3.2 概述"></a>3.2 概述</h4><p>​    列表类型（list）可以存储一个<code>有序的字符串列表(链表)</code>，常用的操作是向列表两端添加元素，或者获得列表的某一个片段。<br>​    列表类型内部是使用双向链表（double linked list）实现的，所以向列表两端添加元素的时间复杂度为0(1)，获取越接近两端的元素速度就越快。这意味着即使是一个有几千万个元素的列表，获取头部或尾部的10条记录也是极快的。</p>
<h4 id="3-2应用场景"><a href="#3-2应用场景" class="headerlink" title="3.2应用场景"></a>3.2应用场景</h4><p>​    如好友列表，粉丝列表，消息队列，最新消息排行等。</p>
<p>​    rpush方法就相当于将消息放入到队列中，lpop/rpop就相当于从队列中拿去消息进行消费 </p>
<h4 id="3-3-常见命令-1"><a href="#3-3-常见命令-1" class="headerlink" title="3.3.常见命令"></a>3.3.常见命令</h4><table>
<thead>
<tr>
<th>命令</th>
<th>命令描述</th>
</tr>
</thead>
<tbody><tr>
<td>lpush key value1 value2…(重点)</td>
<td>将一个或多个值插入到列表头部(左边)</td>
</tr>
<tr>
<td>rpush key value1 value2…(重点)</td>
<td>在列表中添加一个或多个值(右边)</td>
</tr>
<tr>
<td>lpop key(重点)</td>
<td>左边弹出一个 相当于移除第一个</td>
</tr>
<tr>
<td>rpop key(重点)</td>
<td>右边弹出一个  相当于移除最后一个</td>
</tr>
<tr>
<td>llen key</td>
<td>返回指定key所对应的list中元素个数</td>
</tr>
<tr>
<td>LINDEX key index</td>
<td>通过索引获取列表中的元素</td>
</tr>
<tr>
<td>LINSERT key BEFORE| AFTER pivot value</td>
<td>在列表的元素前或者后插入元素</td>
</tr>
</tbody></table>
<h4 id="3-4应用举例-1"><a href="#3-4应用举例-1" class="headerlink" title="3.4应用举例"></a>3.4应用举例</h4><p>商品评论列表</p>
<ul>
<li>思路: 在Redis中创建商品评论列表,用户发布商品评论，将评论信息转成json存储到list中。用户在页面查询评论列表，从redis中取出json数据展示到页面。</li>
</ul>
<h3 id="4-小结-6"><a href="#4-小结-6" class="headerlink" title="4.小结"></a>4.小结</h3><ol>
<li>List是一个字符串链表，left、right都可以插入添加；</li>
<li>如果key不存在，创建新的链表；<br>如果键已存在，新增内容；<br>如果值全移除，对应的键也就消失了。<br>链表的操作无论是头和尾效率都极高，但假如是对中间元素进行操作，效率就一般.</li>
</ol>
<h2 id="知识点-Redis-集合-Set"><a href="#知识点-Redis-集合-Set" class="headerlink" title="知识点-Redis 集合(Set)"></a>知识点-Redis 集合(Set)</h2><h3 id="1-目标-9"><a href="#1-目标-9" class="headerlink" title="1.目标"></a>1.目标</h3><ul>
<li>能够使用redis的set操作命令</li>
</ul>
<h3 id="2-路径-7"><a href="#2-路径-7" class="headerlink" title="2.路径"></a>2.路径</h3><ol>
<li>Redis 集合(Set)概述</li>
<li>应用场景</li>
<li>常见命令</li>
<li>应用举例</li>
</ol>
<h3 id="3-讲解-6"><a href="#3-讲解-6" class="headerlink" title="3.讲解"></a>3.讲解</h3><h4 id="3-1概述"><a href="#3-1概述" class="headerlink" title="3.1概述"></a>3.1概述</h4><p>​    Redis的Set是string类型的无序集合。集合成员是唯一的，这就意味着集合中不能出现重复的数据。</p>
<p>​    Redis 中 集合是通过哈希表实现的，所以添加，删除，查找的时间复杂度都是O(1)。集合中最大的成员数为 2的32次方 -1 (4294967295, 每个集合可存储40多亿个成员)。</p>
<p>​    Redis还提供了多个集合之间的交集、并集、差集的运算</p>
<p>​    特点:无序+唯一   </p>
<h4 id="3-2应用场景-1"><a href="#3-2应用场景-1" class="headerlink" title="3.2应用场景"></a>3.2应用场景</h4><p>​    投票记录  </p>
<p>​    共同好友、共同兴趣、分类标签</p>
<h4 id="3-3-常见命令-2"><a href="#3-3-常见命令-2" class="headerlink" title="3.3.常见命令"></a>3.3.常见命令</h4><table>
<thead>
<tr>
<th>命令</th>
<th>命令描述</th>
</tr>
</thead>
<tbody><tr>
<td>sadd key member1 [member2]   (重点)</td>
<td>向集合添加一个或多个成员</td>
</tr>
<tr>
<td>srem key member1 [member2]</td>
<td>移除一个成员或者多个成员</td>
</tr>
<tr>
<td>smembers key</td>
<td>返回集合中的所有成员,查看所有</td>
</tr>
<tr>
<td>SCARD key</td>
<td>获取集合的成员数</td>
</tr>
<tr>
<td>SPOP key</td>
<td>移除并返回集合中的一个随机元素</td>
</tr>
<tr>
<td>SDIFF key1 [key2]  (重点)</td>
<td>返回给定所有集合的差集</td>
</tr>
<tr>
<td>SUNION key1 [key2]   (重点)</td>
<td>返回所有给定集合的并集</td>
</tr>
<tr>
<td>SINTER key1 [key2]   (重点)</td>
<td>返回给定所有集合的交集</td>
</tr>
</tbody></table>
<h4 id="3-4应用举例-2"><a href="#3-4应用举例-2" class="headerlink" title="3.4应用举例"></a>3.4应用举例</h4><p>共同好友</p>
<ul>
<li>A的好友</li>
<li>B的好友</li>
<li>A和B的共同好友</li>
</ul>
<h3 id="4-小结-7"><a href="#4-小结-7" class="headerlink" title="4.小结"></a>4.小结</h3><ol>
<li>Redis里面的Set 无效+唯一的, 类似Java里面的HashSet</li>
<li>应用<ul>
<li>投票的记录</li>
<li>求差值 </li>
</ul>
</li>
</ol>
<h2 id="知识点-Redis-有序集合-sorted-set-zset"><a href="#知识点-Redis-有序集合-sorted-set-zset" class="headerlink" title="知识点-Redis 有序集合(sorted set)zset"></a>知识点-Redis 有序集合(sorted set)zset</h2><h3 id="1-目标-10"><a href="#1-目标-10" class="headerlink" title="1.目标"></a>1.目标</h3><ul>
<li>能够使用redis的sorted set操作命令</li>
</ul>
<h3 id="2-路径-8"><a href="#2-路径-8" class="headerlink" title="2.路径"></a>2.路径</h3><ol>
<li>sorted set介绍</li>
<li>sorted set 应用场景</li>
<li>sorted set 命令</li>
<li>sorted set 具体示例</li>
</ol>
<h3 id="3-讲解-7"><a href="#3-讲解-7" class="headerlink" title="3.讲解"></a>3.讲解</h3><h4 id="3-1概述-1"><a href="#3-1概述-1" class="headerlink" title="3.1概述"></a>3.1概述</h4><p>Redis 有序集合和集合一样也是string类型元素的集合,且不允许重复的成员。</p>
<p>不同的是每个元素都会关联一个double类型的分数。redis正是通过分数来为集合中的成员进行从小到大的排序。</p>
<p>有序集合的成员是唯一的,但分数(score)却可以重复。</p>
<p>集合是通过哈希表实现的，所以添加，删除，查找的复杂度都是O(1)。 集合中最大的成员数为 232 - 1 (4294967295, 每个集合可存储40多亿个成员)。</p>
<p>特点: 有序(根据分数排序)+唯一</p>
<h4 id="3-2应用场景-2"><a href="#3-2应用场景-2" class="headerlink" title="3.2应用场景"></a>3.2应用场景</h4><p> 排行榜：例如视频网站需要对用户上传的视频做排行榜. </p>
<h4 id="3-3-常见命令-3"><a href="#3-3-常见命令-3" class="headerlink" title="3.3.常见命令"></a>3.3.常见命令</h4><table>
<thead>
<tr>
<th>命令</th>
<th>命令描述</th>
</tr>
</thead>
<tbody><tr>
<td>ZADD key score member [score member …](重点)</td>
<td>增加元素</td>
</tr>
<tr>
<td>ZSCORE key member</td>
<td>获取元素的分数</td>
</tr>
<tr>
<td>ZREM key member [member …]</td>
<td>删除元素</td>
</tr>
<tr>
<td>ZCARD key</td>
<td>获得集合中元素的数量</td>
</tr>
<tr>
<td>ZRANGE key start stop[WITHSCORES] (重点)</td>
<td>获得排名在某个范围的元素列表</td>
</tr>
<tr>
<td>ZREVRANGE key start stop (重点)</td>
<td>按照分数从高到低排序</td>
</tr>
</tbody></table>
<h4 id="3-4应用举例-3"><a href="#3-4应用举例-3" class="headerlink" title="3.4应用举例"></a>3.4应用举例</h4><p>商品销售排行榜</p>
<ul>
<li>需求：根据商品销售量对商品进行排行显示</li>
<li>思路：定义商品销售排行榜（sorted set集合），Key为items:sellsort，分数为商品销售量</li>
<li>实现:   </li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">--商品编号1001的销量是9，商品编号1002的销量是10</span><br><span class="line">ZADD items:sellsort 9 1001 10 1002		</span><br><span class="line"></span><br><span class="line">--商品编号1001的销量加1</span><br><span class="line">ZINCRBY items:sellsort 1 1001</span><br><span class="line"></span><br><span class="line">--商品销量前10名()</span><br><span class="line">ZREVRANGE items:sellsort 0 9</span><br></pre></td></tr></table></figure>

<h3 id="4-小结-8"><a href="#4-小结-8" class="headerlink" title="4.小结"></a>4.小结</h3><ol>
<li>ZSet: 有序的Set<ul>
<li>特点: 有序+唯一的</li>
</ul>
</li>
<li>应用场景: 排行榜</li>
</ol>
<h1 id="第三章-Redis通用的操作-发布订阅和持久化"><a href="#第三章-Redis通用的操作-发布订阅和持久化" class="headerlink" title="第三章-Redis通用的操作,发布订阅和持久化"></a>第三章-Redis通用的操作,发布订阅和持久化</h1><h2 id="知识点-Redis通用的操作-了解"><a href="#知识点-Redis通用的操作-了解" class="headerlink" title="知识点-Redis通用的操作(了解)"></a>知识点-Redis通用的操作(了解)</h2><h3 id="1-目标-11"><a href="#1-目标-11" class="headerlink" title="1.目标"></a>1.目标</h3><ul>
<li>掌握Redis通用的操作命令</li>
</ul>
<h3 id="2-路径-9"><a href="#2-路径-9" class="headerlink" title="2.路径"></a>2.路径</h3><ul>
<li>通用操作</li>
<li>多数据库性</li>
</ul>
<h3 id="3-讲解-8"><a href="#3-讲解-8" class="headerlink" title="3.讲解"></a>3.讲解</h3><h4 id="3-1-通用操作"><a href="#3-1-通用操作" class="headerlink" title="3.1 通用操作"></a>3.1 通用操作</h4><ul>
<li><p>keys *: 查询所有的key</p>
</li>
<li><p>exists key:判断是否有指定的key 若有返回1,否则返回0</p>
</li>
<li><p>expire key 秒数:设置这个key在缓存中的存活时间     (重要) </p>
</li>
<li><p>ttl key:展示指定key的剩余时间</p>
<p>​    若返回值为 -1:永不过期</p>
<p>​    若返回值为 -2:已过期或者不存在</p>
</li>
<li><p>del key:删除指定key (重要)</p>
</li>
<li><p>rename key 新key:重命名</p>
</li>
<li><p>type key:判断一个key的类型</p>
</li>
<li><p>ping :测试连接是否连接</p>
</li>
</ul>
<h4 id="3-2-多数据库性"><a href="#3-2-多数据库性" class="headerlink" title="3.2 多数据库性"></a>3.2 多数据库性</h4><p>​    redis默认是16个数据库, 编号是从0~15. 【默认是0号库】</p>
<ul>
<li>select index:切换库</li>
<li>move key index: 把key移动到几号库(index是库的编号)</li>
<li>flushdb:清空当前数据库</li>
<li>flushall:清空当前实例下所有的数据库</li>
</ul>
<h3 id="4-小结-9"><a href="#4-小结-9" class="headerlink" title="4.小结"></a>4.小结</h3><ol>
<li>exists key 判断是否有这个key</li>
<li>expire key 秒数 设置这个key在缓存中的存活时间      </li>
<li>ttl key 展示指定key的剩余时间</li>
<li>select index 切换库</li>
</ol>
<h2 id="知识点-订阅发布机制【了解】"><a href="#知识点-订阅发布机制【了解】" class="headerlink" title="知识点-订阅发布机制【了解】"></a>知识点-订阅发布机制【了解】</h2><h3 id="1-目标-12"><a href="#1-目标-12" class="headerlink" title="1.目标"></a>1.目标</h3><ul>
<li><input disabled type="checkbox"> 了解Redis订阅发布机制</li>
</ul>
<h3 id="2-路径-10"><a href="#2-路径-10" class="headerlink" title="2.路径"></a>2.路径</h3><ol>
<li>什么是Redis订阅发布机制</li>
<li>相关的命令</li>
<li>订阅发布实操</li>
</ol>
<h3 id="3-讲解-9"><a href="#3-讲解-9" class="headerlink" title="3.讲解"></a>3.讲解</h3><h4 id="3-1什么是Redis订阅发布机制"><a href="#3-1什么是Redis订阅发布机制" class="headerlink" title="3.1什么是Redis订阅发布机制"></a>3.1什么是Redis订阅发布机制</h4><p>​    Redis 发布订阅(pub/sub)是进程间一种消息通信模式：发送者(pub)发送消息，订阅者(sub)接收消息。</p>
<p>​     Redis 客户端可以订阅任意数量的频道。</p>
<h4 id="3-2相关的命令"><a href="#3-2相关的命令" class="headerlink" title="3.2相关的命令"></a>3.2相关的命令</h4><table>
<thead>
<tr>
<th align="left">序号</th>
<th align="left">命令及描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">1</td>
<td align="left">PUBLISH channel message 将信息发送到指定的频道。</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">SUBSCRIBE channel [channel …]  订阅给定的一个或多个频道的信息。</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">UNSUBSCRIBE [channel [channel …]] 指退订给定的频道</td>
</tr>
</tbody></table>
<h4 id="3-3订阅发布实操"><a href="#3-3订阅发布实操" class="headerlink" title="3.3订阅发布实操"></a>3.3订阅发布实操</h4><ul>
<li>开启两个客户端</li>
<li>A客户端</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SUBSCRIBE nba</span><br></pre></td></tr></table></figure>

<ul>
<li>B客户端</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PUBLISH  nba aaa</span><br></pre></td></tr></table></figure>



<h3 id="4-小结-10"><a href="#4-小结-10" class="headerlink" title="4.小结"></a>4.小结</h3><ol>
<li>Redis 发布订阅(pub/sub)是进程间一种消息通信模式, 工作里面一般使用MQ</li>
</ol>
<h2 id="知识点-Redis的持久化【面试】"><a href="#知识点-Redis的持久化【面试】" class="headerlink" title="知识点-Redis的持久化【面试】"></a>知识点-Redis的持久化【面试】</h2><h3 id="1-目标-13"><a href="#1-目标-13" class="headerlink" title="1.目标"></a>1.目标</h3><p>​    Redis的高性能是由于其将所有数据都存储在了内存中，为了使Redis在重启之后仍能保证数据不丢失，需要将数据<strong>从内存中同步到硬盘(文件)中，这一过程就是持久化</strong>。</p>
<p>​    Redis支持两种方式的持久化，一种是RDB方式，一种是AOF方式。可以单独使用其中一种或将二者结合使用。</p>
<h3 id="2-路径-11"><a href="#2-路径-11" class="headerlink" title="2.路径"></a>2.路径</h3><ul>
<li>RDB持久化机制</li>
<li>AOF持久化机制</li>
<li>两种持久化机制比较</li>
</ul>
<h3 id="3-讲解-10"><a href="#3-讲解-10" class="headerlink" title="3.讲解"></a>3.讲解</h3><h4 id="3-1RDB持久化机制"><a href="#3-1RDB持久化机制" class="headerlink" title="3.1RDB持久化机制"></a>3.1RDB持久化机制</h4><h5 id="3-1-1概述"><a href="#3-1-1概述" class="headerlink" title="3.1.1概述"></a>3.1.1概述</h5><p>RDB持久化是指在<strong>指定的时间间隔内</strong>将内存中的数据集快照写入磁盘。这种方式是就是将内存中数据以快照的方式写入到二进制文件中,默认的文件名为dump.rdb。 这种方式是默认<strong>已经开启了,不需要配置.</strong></p>
<h5 id="3-1-2-RDB持久化机制的配置"><a href="#3-1-2-RDB持久化机制的配置" class="headerlink" title="3.1.2 RDB持久化机制的配置"></a>3.1.2 RDB持久化机制的配置</h5><ul>
<li>在redis.windows.conf配置文件中有如下配置：</li>
</ul>
<p> <img data-src="https://jwangtec.oss-cn-chengdu.aliyuncs.com/jwangcloud/redis/img/tu_14-1571712041246.png" alt="img"></p>
<p>其中，上面配置的是RDB方式数据持久化时机：</p>
<table>
<thead>
<tr>
<th>关键字</th>
<th>时间(秒)</th>
<th>key修改数量</th>
<th>解释</th>
</tr>
</thead>
<tbody><tr>
<td>save</td>
<td>900</td>
<td>1</td>
<td>每900秒(15分钟)至少有1个key发生变化，则dump内存快照</td>
</tr>
<tr>
<td>save</td>
<td>300</td>
<td>10</td>
<td>每300秒(5分钟)至少有10个key发生变化，则dump内存快照</td>
</tr>
<tr>
<td>save</td>
<td>60</td>
<td>10000</td>
<td>每60秒(1分钟)至少有10000个key发生变化，则dump内存快照</td>
</tr>
</tbody></table>
<h4 id="3-2-AOF持久化机制"><a href="#3-2-AOF持久化机制" class="headerlink" title="3.2 AOF持久化机制"></a>3.2 AOF持久化机制</h4><h5 id="3-2-1概述"><a href="#3-2-1概述" class="headerlink" title="3.2.1概述"></a>3.2.1概述</h5><p>​     AOF持久化机制会将每一个收到的写命令都通过write函数追加到文件中,默认的文件名是appendonly.aof。 这种方式默认是没有开启的,要使用时候需要配置.</p>
<h5 id="3-2-2AOF持久化机制配置"><a href="#3-2-2AOF持久化机制配置" class="headerlink" title="3.2.2AOF持久化机制配置"></a>3.2.2AOF持久化机制配置</h5><h6 id="3-2-2-1开启配置"><a href="#3-2-2-1开启配置" class="headerlink" title="3.2.2.1开启配置"></a>3.2.2.1开启配置</h6><ul>
<li>在redis.windows.conf配置文件中有如下配置：</li>
</ul>
<p> <img data-src="https://jwangtec.oss-cn-chengdu.aliyuncs.com/jwangcloud/redis/img/tu_15-1571712041246.png" alt="img"></p>
<ul>
<li>将appendonly修改为yes， 但是启动redis的时候需要指定该文件,也就是意味着不能直接点击了, 需要输入命令启动:</li>
</ul>
<p> <img data-src="https://jwangtec.oss-cn-chengdu.aliyuncs.com/jwangcloud/redis/img/tu_12-1571712041245.png" alt="img"></p>
<ul>
<li>开启aof持久化机制后，默认会在目录下产生一个appendonly.aof文件</li>
</ul>
<p> <img data-src="https://jwangtec.oss-cn-chengdu.aliyuncs.com/jwangcloud/redis/img/tu_13-1571712041246.png" alt="img"></p>
<h6 id="3-2-2-2配置详解"><a href="#3-2-2-2配置详解" class="headerlink" title="3.2.2.2配置详解"></a>3.2.2.2配置详解</h6><ul>
<li>上述配置为aof持久化的时机，解释如下：(在redis.windows.conf配置)</li>
</ul>
<p> <img data-src="https://jwangtec.oss-cn-chengdu.aliyuncs.com/jwangcloud/redis/img/tu_16-1571712041246.png" alt="img"></p>
<table>
<thead>
<tr>
<th>关键字</th>
<th>持久化时机</th>
<th>解释</th>
</tr>
</thead>
<tbody><tr>
<td>appendfsync</td>
<td>always</td>
<td>每执行一次更新命令，持久化一次</td>
</tr>
<tr>
<td>appendfsync</td>
<td>everysec</td>
<td>每秒钟持久化一次</td>
</tr>
<tr>
<td>appendfsync</td>
<td>no</td>
<td>不持久化</td>
</tr>
</tbody></table>
<h3 id="4-小结-11"><a href="#4-小结-11" class="headerlink" title="4,小结"></a>4,小结</h3><h4 id="4-1RDB"><a href="#4-1RDB" class="headerlink" title="4.1RDB"></a>4.1RDB</h4><h5 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h5><ul>
<li>RDB 是一个非常紧凑（compact）的文件，它保存了 Redis 在某个时间点上的数据集。 这种文件非常适合用于进行备份</li>
<li>==RDB 在恢复大数据集时的速度比 AOF 的恢复速度要快(因为其文件要比AOF的小)==</li>
<li>==RDB的性能要比AOF更好==</li>
</ul>
<h5 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h5><ul>
<li>==RDB的持久化不够及时(一定时间间隔),可能会存在数据丢失==</li>
<li>RDB持久化时如果文件过大可能会造成服务器的阻塞,停止客户端请求</li>
</ul>
<h4 id="4-2AOF"><a href="#4-2AOF" class="headerlink" title="4.2AOF"></a>4.2AOF</h4><h5 id="优点-1"><a href="#优点-1" class="headerlink" title="优点"></a>优点</h5><ul>
<li>==AOF的持久性更加的耐久(可以每秒 或 每次操作保存一次)==</li>
<li>AOF 文件有序地保存了对数据库执行的所有写入操作， 这些写入操作以 Redis 协议的格式保存， 因此 AOF 文件的内容非常容易被人读懂， 对文件进行分析（parse）也很轻松。</li>
<li>AOF是增量操作</li>
</ul>
<h5 id="缺点-1"><a href="#缺点-1" class="headerlink" title="缺点"></a>缺点</h5><ul>
<li>==对于相同的数据集来说，AOF 文件的体积通常要大于 RDB 文件的体积==</li>
<li>==根据所使用的 fsync 策略，AOF 的速度可能会慢于 RDB.==</li>
</ul>
<h4 id="4-3选择"><a href="#4-3选择" class="headerlink" title="4.3选择"></a>4.3选择</h4><ul>
<li>如果你非常关心你的数据， 但仍然可以承受数分钟以内的数据丢失，选择RDB 持久化。</li>
<li>如果对数据的完整性要求比较高, 选择AOF  </li>
</ul>
<h1 id="第四章-Jedis-（重点）"><a href="#第四章-Jedis-（重点）" class="headerlink" title="第四章-Jedis  （重点）"></a>第四章-Jedis  （重点）</h1><h2 id="案例-Jedis的快速入门"><a href="#案例-Jedis的快速入门" class="headerlink" title="案例-Jedis的快速入门"></a>案例-Jedis的快速入门</h2><h3 id="1-目标-14"><a href="#1-目标-14" class="headerlink" title="1.目标"></a>1.目标</h3><ul>
<li><input disabled type="checkbox"> 掌握什么是Jedis</li>
</ul>
<h3 id="2-路径-12"><a href="#2-路径-12" class="headerlink" title="2.路径"></a>2.路径</h3><ol>
<li><p>jedis的介绍</p>
</li>
<li><p>Jedis的入门</p>
</li>
</ol>
<h3 id="3-讲解-11"><a href="#3-讲解-11" class="headerlink" title="3.讲解"></a>3.讲解</h3><h4 id="3-1-jedis的介绍"><a href="#3-1-jedis的介绍" class="headerlink" title="3.1 jedis的介绍"></a>3.1 jedis的介绍</h4><p>​    Redis不仅是使用命令来操作，现在基本上主流的语言都有客户端支持，比如java、C、C#、C++、php、Node.js、Go等。 在官方网站里列一些Java的客户端，有Jedis、Redisson、Jredis、JDBC-Redis、等其中官方推荐使用Jedis和Redisson。 在企业中用的最多的就是Jedis，Jedis同样也是托管在github上.</p>
<p><strong>说白了Jedis就是使用Java操作Redis的客户端(工具包)</strong></p>
<p>地址：<a target="_blank" rel="noopener" href="https://github.com/xetorthio/jedis%E3%80%82">https://github.com/xetorthio/jedis。</a></p>
<p>文档地址:<a target="_blank" rel="noopener" href="http://xetorthio.github.io/jedis/">http://xetorthio.github.io/jedis/</a></p>
<table>
<thead>
<tr>
<th>方法</th>
<th>解释</th>
</tr>
</thead>
<tbody><tr>
<td>new Jedis(host, port)</td>
<td>创建jedis对象，参数host是redis服务器地址，参数port是redis服务端口</td>
</tr>
<tr>
<td>set(key,value)</td>
<td>设置字符串类型的数据</td>
</tr>
<tr>
<td>get(key)</td>
<td>获得字符串类型的数据</td>
</tr>
<tr>
<td>hset(key,field,value)</td>
<td>设置哈希类型的数据</td>
</tr>
<tr>
<td>hget(key,field)</td>
<td>获得哈希类型的数据</td>
</tr>
<tr>
<td>lpush(key,values)</td>
<td>设置列表类型的数据</td>
</tr>
<tr>
<td>lpop(key)</td>
<td>列表左面弹栈</td>
</tr>
<tr>
<td>rpop(key)</td>
<td>列表右面弹栈</td>
</tr>
<tr>
<td>sadd(String key, String… members)</td>
<td>设置set类型的数据</td>
</tr>
<tr>
<td>zrange(String key, long start, long end)</td>
<td>获得在某个范围的元素列表</td>
</tr>
<tr>
<td>del(key)</td>
<td>删除key</td>
</tr>
</tbody></table>
<h4 id="3-2-Jedis的入门"><a href="#3-2-Jedis的入门" class="headerlink" title="3.2 Jedis的入门"></a>3.2 Jedis的入门</h4><p>需求: 使用java代码操作Redis 进行增(改)删查  </p>
<p>步骤:</p>
<ol>
<li>导入jar</li>
<li>创建Jedis对象</li>
<li>使用方法操作</li>
<li>关闭资源</li>
</ol>
<ul>
<li>基本操作</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//1.创建于服务器的连接</span></span><br><span class="line">    Jedis jedis = <span class="keyword">new</span> Jedis(<span class="string">&quot;localhost&quot;</span>,<span class="number">6379</span>);</span><br><span class="line">    <span class="comment">//2. 调用jedis对象的方法操作redis数据库: 要调用的方法名和redis操作的命令是一样的</span></span><br><span class="line">    jedis.set(<span class="string">&quot;user:password&quot;</span>,<span class="string">&quot;123456&quot;</span>);</span><br><span class="line">    <span class="comment">//3. 关闭连接</span></span><br><span class="line">    jedis.close();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test02</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//目标:从redis服务器中获取user:nickname的值</span></span><br><span class="line">    <span class="comment">//1.创建于服务器的连接</span></span><br><span class="line">    Jedis jedis = <span class="keyword">new</span> Jedis(<span class="string">&quot;localhost&quot;</span>,<span class="number">6379</span>);</span><br><span class="line">    <span class="comment">//2. 调用get(key)</span></span><br><span class="line">    String nickname = jedis.get(<span class="string">&quot;user:nickname&quot;</span>);</span><br><span class="line">    System.out.println(nickname);</span><br><span class="line">    jedis.close();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test03</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//1.创建于服务器的连接</span></span><br><span class="line">    Jedis jedis = <span class="keyword">new</span> Jedis(<span class="string">&quot;localhost&quot;</span>,<span class="number">6379</span>);</span><br><span class="line">    jedis.setex(<span class="string">&quot;user:email&quot;</span>,<span class="number">20</span>,<span class="string">&quot;123456@qq.com&quot;</span>);</span><br><span class="line">    jedis.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-小结-12"><a href="#4-小结-12" class="headerlink" title="4.小结"></a>4.小结</h3><ol>
<li>Jedis: java操作Redis的客户端, 工具包</li>
<li>使用步骤<ul>
<li>导入jar</li>
<li>创建jedis对象</li>
<li>调用方法</li>
<li>释放资源</li>
</ul>
</li>
</ol>
<h2 id="知识点-Jedis进阶"><a href="#知识点-Jedis进阶" class="headerlink" title="知识点-Jedis进阶"></a>知识点-Jedis进阶</h2><h3 id="1-目标-15"><a href="#1-目标-15" class="headerlink" title="1.目标"></a>1.目标</h3><ul>
<li><input disabled type="checkbox"> 掌握Jedis连接池的使用</li>
</ul>
<h3 id="2-路径-13"><a href="#2-路径-13" class="headerlink" title="2.路径"></a>2.路径</h3><ol>
<li> jedis连接池介绍</li>
<li> jedis连接池的使用</li>
<li> 工具类的抽取</li>
</ol>
<h3 id="3-讲解-12"><a href="#3-讲解-12" class="headerlink" title="3.讲解"></a>3.讲解</h3><h4 id="3-1-jedis连接池的基本概念"><a href="#3-1-jedis连接池的基本概念" class="headerlink" title="3.1 jedis连接池的基本概念"></a>3.1 jedis连接池的基本概念</h4><p>​    jedis连接资源的创建与销毁是很消耗程序性能，所以jedis为我们提供了jedis的池化技术，jedisPool在创建时初始化一些连接资源存储到连接池中，使用jedis连接资源时不需要创建，而是从连接池中获取一个资源进行redis的操作，使用完毕后，不需要销毁该jedis连接资源，而是将该资源归还给连接池，供其他请求使用。</p>
<h4 id="3-2jedis连接池的使用"><a href="#3-2jedis连接池的使用" class="headerlink" title="3.2jedis连接池的使用"></a>3.2jedis连接池的使用</h4><p>需求: 从Jedis的连接池里面获得jedis</p>
<p>步骤:</p>
<ol>
<li>创建JedisPool配置对象</li>
<li>创建JedisPool对象</li>
<li>从JedisPool获得jedis</li>
<li>操作Redis</li>
<li>释放资源</li>
</ol>
<ul>
<li>基本使用</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test04</span><span class="params">()</span></span>&#123;</span><br><span class="line">    JedisPoolConfig jedisPoolConfig = <span class="keyword">new</span> JedisPoolConfig();</span><br><span class="line">    jedisPoolConfig.setMaxTotal(<span class="number">30</span>);</span><br><span class="line">    jedisPoolConfig.setMaxIdle(<span class="number">20</span>);</span><br><span class="line">    jedisPoolConfig.setMaxWaitMillis(<span class="number">3000</span>);</span><br><span class="line">    <span class="comment">//使用jedis连接池</span></span><br><span class="line">    JedisPool jedisPool = <span class="keyword">new</span> JedisPool(jedisPoolConfig,<span class="string">&quot;localhost&quot;</span>,<span class="number">6379</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//从连接池获取连接</span></span><br><span class="line">    Jedis jedis = jedisPool.getResource();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//调用jedis的方法</span></span><br><span class="line">    String nickname = jedis.get(<span class="string">&quot;user:nickname&quot;</span>);</span><br><span class="line">    System.out.println(nickname);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//将连接归还回连接池</span></span><br><span class="line">    jedis.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-3Jedis工具类的抽取"><a href="#3-3Jedis工具类的抽取" class="headerlink" title="3.3Jedis工具类的抽取"></a>3.3Jedis工具类的抽取</h4><p>目的: 1.保证连接池只有一个  2.简化获得jedis对象的代码 </p>
<p>步骤:</p>
<ol>
<li>创建jedis.properties配置文件</li>
<li>创建JedisUtils类</li>
<li>定义JedisPool, 在静态代码块读取配置文件，并且初始化JedisPool兑现</li>
<li>创建getJedis()方法从JedisPool获得Jedis</li>
<li>创建close()方法归还</li>
</ol>
<p>配置文件jedisconfig.properties</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">jedis.maxTotal&#x3D;30</span><br><span class="line">jedis.maxIdle&#x3D;20</span><br><span class="line">jedis.maxWaitMillis&#x3D;3000</span><br><span class="line">jedis.host&#x3D;localhost</span><br><span class="line">jedis.port&#x3D;6379</span><br></pre></td></tr></table></figure>

<p>JedisUtil工具类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.jwang.utils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> redis.clients.jedis.Jedis;</span><br><span class="line"><span class="keyword">import</span> redis.clients.jedis.JedisPool;</span><br><span class="line"><span class="keyword">import</span> redis.clients.jedis.JedisPoolConfig;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ResourceBundle;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 包名:com.jwang.utils</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Leevi</span></span><br><span class="line"><span class="comment"> * 日期2020-10-26  15:42</span></span><br><span class="line"><span class="comment"> * 使用jedis的步骤:</span></span><br><span class="line"><span class="comment"> * 1. 拷贝jar包</span></span><br><span class="line"><span class="comment"> * 2. 拷贝配置文件</span></span><br><span class="line"><span class="comment"> * 3. 拷贝工具类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JedisUtil</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> JedisPool jedisPool;</span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        <span class="comment">//读取jedisconfig.properties配置文件</span></span><br><span class="line">        ResourceBundle resourceBundle = ResourceBundle.getBundle(<span class="string">&quot;jedisconfig&quot;</span>);</span><br><span class="line">        Integer maxTotal = Integer.valueOf(resourceBundle.getString(<span class="string">&quot;jedis.maxTotal&quot;</span>));</span><br><span class="line">        Integer maxIdle = Integer.valueOf(resourceBundle.getString(<span class="string">&quot;jedis.maxIdle&quot;</span>));</span><br><span class="line">        Integer maxWaitMillis = Integer.valueOf(resourceBundle.getString(<span class="string">&quot;jedis.maxWaitMillis&quot;</span>));</span><br><span class="line">        String host = resourceBundle.getString(<span class="string">&quot;jedis.host&quot;</span>);</span><br><span class="line">        Integer port = Integer.valueOf(resourceBundle.getString(<span class="string">&quot;jedis.port&quot;</span>));</span><br><span class="line">        JedisPoolConfig jedisPoolConfig = <span class="keyword">new</span> JedisPoolConfig();</span><br><span class="line">        jedisPoolConfig.setMaxTotal(maxTotal);</span><br><span class="line">        jedisPoolConfig.setMaxIdle(maxIdle);</span><br><span class="line">        jedisPoolConfig.setMaxWaitMillis(maxWaitMillis);</span><br><span class="line">        <span class="comment">//使用jedis连接池</span></span><br><span class="line">        jedisPool = <span class="keyword">new</span> JedisPool(jedisPoolConfig,host,port);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 从连接池获取连接</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Jedis <span class="title">getJedis</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> jedisPool.getResource();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-小结-13"><a href="#4-小结-13" class="headerlink" title="4.小结"></a>4.小结</h3><ol>
<li>使用JedisPool目的: 为了jedis复用</li>
</ol>
<h2 id="案例-使用Redis优化省份的展示"><a href="#案例-使用Redis优化省份的展示" class="headerlink" title="案例-使用Redis优化省份的展示"></a>案例-使用Redis优化省份的展示</h2><h3 id="1-需求"><a href="#1-需求" class="headerlink" title="1.需求"></a>1.需求</h3><p>​    访问index.html页面，使用ajax请求加载省份列表(响应json)</p>
<ul>
<li>先从Redis里面获得<ul>
<li>有 就直接返回</li>
<li>没有 从Mysql获得,再存到Redis</li>
</ul>
</li>
</ul>
<p><img data-src="https://jwangtec.oss-cn-chengdu.aliyuncs.com/jwangcloud/redis/img/1571210295308.png" alt="1571210295308"> </p>
<h3 id="2-分析"><a href="#2-分析" class="headerlink" title="2.分析"></a>2.分析</h3><h4 id="2-1直接从MySQL获得"><a href="#2-1直接从MySQL获得" class="headerlink" title="2.1直接从MySQL获得"></a>2.1直接从MySQL获得</h4><ol start="0">
<li>创建数据库, 创建web工程(页面, jar, 工具类, 配置文件)</li>
<li>创建vue实例, 在created 钩子函数里面</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">axios.get(&#39;province&#39;).then(function(response)&#123;</span><br><span class="line">	&#x2F;&#x2F;获得数据赋值, 绑定</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>创建ProvinceServlet</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;1.调用业务 获得List&lt;Province&gt; list</span><br><span class="line">&#x2F;&#x2F;2.把list转成json响应</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>创建ProvinceService    </li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public List&lt;Province&gt; findAll()&#123;</span><br><span class="line">	&#x2F;&#x2F;调用Dao</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>创建ProvinceDao</li>
</ol>
<h4 id="2-2优化的思路"><a href="#2-2优化的思路" class="headerlink" title="2.2优化的思路"></a>2.2优化的思路</h4><ol>
<li>先从Redis里面获得<ul>
<li>如果有 ,直接返回</li>
<li>如果没有, 从Mysql获得,再存到Redis</li>
</ul>
</li>
</ol>
<h3 id="3-代码实现"><a href="#3-代码实现" class="headerlink" title="3.代码实现"></a>3.代码实现</h3><h4 id="3-1准备工作"><a href="#3-1准备工作" class="headerlink" title="3.1准备工作"></a>3.1准备工作</h4><ul>
<li>数据库</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE `province` (</span><br><span class="line">  `pid` <span class="keyword">int</span> NOT NULL AUTO_INCREMENT,</span><br><span class="line">  `pname` varchar(<span class="number">40</span>) DEFAULT NULL,</span><br><span class="line">  <span class="function">PRIMARY <span class="title">KEY</span> <span class="params">(`pid`)</span></span></span><br><span class="line"><span class="function">) ENGINE</span>=InnoDB AUTO_INCREMENT=<span class="number">8</span> DEFAULT CHARSET=utf8;</span><br><span class="line"></span><br><span class="line">INSERT INTO `province` VALUES (<span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;广东&#x27;</span>);</span><br><span class="line">INSERT INTO `province` VALUES (<span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;湖北&#x27;</span>);</span><br><span class="line">INSERT INTO `province` VALUES (<span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27;湖南&#x27;</span>);</span><br><span class="line">INSERT INTO `province` VALUES (<span class="string">&#x27;4&#x27;</span>, <span class="string">&#x27;四川&#x27;</span>);</span><br><span class="line">INSERT INTO `province` VALUES (<span class="string">&#x27;5&#x27;</span>, <span class="string">&#x27;山东&#x27;</span>);</span><br><span class="line">INSERT INTO `province` VALUES (<span class="string">&#x27;6&#x27;</span>, <span class="string">&#x27;山西&#x27;</span>);</span><br><span class="line">INSERT INTO `province` VALUES (<span class="string">&#x27;7&#x27;</span>, <span class="string">&#x27;广西&#x27;</span>);</span><br></pre></td></tr></table></figure>

<ul>
<li>创建工程(web)</li>
<li>导入jar包, 导入配置文件, 导入工具类,导入页面</li>
<li>Province.java</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.jwang.pojo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 包名:com.jwang.pojo</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Leevi</span></span><br><span class="line"><span class="comment"> * 日期2020-07-26  15:10</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Province</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Integer pid;</span><br><span class="line">    <span class="keyword">private</span> String pname;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Province&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;pid=&quot;</span> + pid +</span><br><span class="line">                <span class="string">&quot;, pname=&#x27;&quot;</span> + pname + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">getPid</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> pid;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPid</span><span class="params">(Integer pid)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.pid = pid;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getPname</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> pname;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPname</span><span class="params">(String pname)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.pname = pname;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-2代码实现"><a href="#3-2代码实现" class="headerlink" title="3.2代码实现"></a>3.2代码实现</h4><ul>
<li>页面</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>省份展示页面<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;js/axios-0.18.0.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;js/vuejs-2.5.16.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">select</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">option</span>&gt;</span>请选择省份<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">option</span> <span class="attr">v-for</span>=<span class="string">&quot;(province,index) in provinceList&quot;</span> <span class="attr">:value</span>=<span class="string">&quot;province.pid&quot;</span> <span class="attr">v-html</span>=<span class="string">&quot;province.pname&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> vue = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">           el:<span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line">           data:&#123;</span><br><span class="line">               provinceList:[]</span><br><span class="line">           &#125;,</span><br><span class="line">           methods:&#123;</span><br><span class="line"><span class="javascript">               <span class="function"><span class="title">findAll</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                   <span class="comment">//发送异步请求，获取所有省份信息</span></span></span><br><span class="line"><span class="javascript">                    axios.get(<span class="string">&quot;province?action=findAll&quot;</span>).then(<span class="function"><span class="params">response</span>=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="built_in">this</span>.provinceList = response.data.data</span></span><br><span class="line">                    &#125;)</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;,</span><br><span class="line"><span class="javascript">            <span class="function"><span class="title">created</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">               <span class="built_in">this</span>.findAll()</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>



<ul>
<li>ProvinceServlet</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.jwang.web.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.jwang.pojo.Province;</span><br><span class="line"><span class="keyword">import</span> com.jwang.pojo.ResultBean;</span><br><span class="line"><span class="keyword">import</span> com.jwang.service.ProvinceService;</span><br><span class="line"><span class="keyword">import</span> com.jwang.utils.JsonUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Leevi</span></span><br><span class="line"><span class="comment"> * 日期2020-10-26  15:56</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/province&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ProvinceServlet</span> <span class="keyword">extends</span> <span class="title">BaseServlet</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> ProvinceService provinceService = <span class="keyword">new</span> ProvinceService();</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">findAll</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        ResultBean resultBean = <span class="keyword">new</span> ResultBean(<span class="keyword">true</span>);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//调用业务层的方法查询所有省份信息</span></span><br><span class="line">            List&lt;Province&gt; provinceList = provinceService.findAll();</span><br><span class="line">            <span class="comment">//将响应数据封装到ResultBean对象中</span></span><br><span class="line">            resultBean.setData(provinceList);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            resultBean.setFlag(<span class="keyword">false</span>);</span><br><span class="line">            resultBean.setErrorMsg(<span class="string">&quot;查询省份失败&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//将resultBean对象转换成json字符串输出到客户端</span></span><br><span class="line">        JsonUtils.printResult(response,resultBean);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>ProvinceService</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.jwang.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.alibaba.fastjson.JSON;</span><br><span class="line"><span class="keyword">import</span> com.jwang.dao.ProvinceDao;</span><br><span class="line"><span class="keyword">import</span> com.jwang.pojo.Province;</span><br><span class="line"><span class="keyword">import</span> com.jwang.utils.JedisUtil;</span><br><span class="line"><span class="keyword">import</span> redis.clients.jedis.Jedis;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 包名:com.jwang.service</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Leevi</span></span><br><span class="line"><span class="comment"> * 日期2020-10-26  15:58</span></span><br><span class="line"><span class="comment"> * 优化前: 业务层直接掉dao层的方法查询mysql数据库</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 优化后:</span></span><br><span class="line"><span class="comment"> * 1. 从redis中查询省份信息</span></span><br><span class="line"><span class="comment"> * 2. 如果查询不到则调用dao层的方法到mysql数据库查询，将查询到的数据存储到redis</span></span><br><span class="line"><span class="comment"> * 3. 如果查询到了，就直接使用redis中的数据</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ProvinceService</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> ProvinceDao provinceDao = <span class="keyword">new</span> ProvinceDao();</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Province&gt; <span class="title">findAll</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">//1. 从redis中查询省份信息</span></span><br><span class="line">        Jedis jedis = JedisUtil.getJedis();</span><br><span class="line">        String jsonStr = jedis.get(<span class="string">&quot;province:list&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2. 判断jsonStr是否为null</span></span><br><span class="line">        <span class="keyword">if</span> (jsonStr == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="comment">//说明redis中没有存储省份信息</span></span><br><span class="line">            <span class="comment">//调用dao层的方法查询省份信息</span></span><br><span class="line">            List&lt;Province&gt; provinceList = provinceDao.findAll();</span><br><span class="line">            <span class="comment">//将provinceList转换成jsonStr</span></span><br><span class="line">            jsonStr = JSON.toJSONString(provinceList);</span><br><span class="line">            <span class="comment">//将jsonStr存储到redis</span></span><br><span class="line">            jedis.set(<span class="string">&quot;province:list&quot;</span>,jsonStr);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3. 将jsonStr转换成List&lt;Province&gt;</span></span><br><span class="line">        List&lt;Province&gt; list = JSON.parseArray(jsonStr, Province.class);</span><br><span class="line"></span><br><span class="line">        jedis.close();</span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>ProvinceDao</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.jwang.dao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.jwang.pojo.Province;</span><br><span class="line"><span class="keyword">import</span> com.jwang.utils.DruidUtil;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.dbutils.QueryRunner;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.dbutils.handlers.BeanListHandler;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 包名:com.jwang.dao</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Leevi</span></span><br><span class="line"><span class="comment"> * 日期2020-10-26  15:58</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ProvinceDao</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> QueryRunner queryRunner = <span class="keyword">new</span> QueryRunner(DruidUtil.getDataSource());</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Province&gt; <span class="title">findAll</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        String sql = <span class="string">&quot;select * from province&quot;</span>;</span><br><span class="line">        List&lt;Province&gt; provinceList = queryRunner.query(sql, <span class="keyword">new</span> BeanListHandler&lt;&gt;(Province.class));</span><br><span class="line">        <span class="keyword">return</span> provinceList;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="4-小结-14"><a href="#4-小结-14" class="headerlink" title="4.小结"></a>4.小结</h3><ol>
<li>优化<ul>
<li>先从Redis获得<ul>
<li>有, 直接返回</li>
<li>没有. 从Mysql获得 再存到Redis</li>
</ul>
</li>
</ul>
</li>
</ol>
<h2 id="案例-使用Redis完成邮箱验证码的校验"><a href="#案例-使用Redis完成邮箱验证码的校验" class="headerlink" title="案例-使用Redis完成邮箱验证码的校验"></a>案例-使用Redis完成邮箱验证码的校验</h2><h3 id="1-需求-1"><a href="#1-需求-1" class="headerlink" title="1.需求"></a>1.需求</h3><p><img data-src="https://jwangtec.oss-cn-chengdu.aliyuncs.com/jwangcloud/redis/img/code.png" alt="1571727394934">  </p>
<ul>
<li>输入邮箱, 点击发送发送验证码邮件</li>
<li>点击提交向服务器提交验证码进行校验</li>
</ul>
<h3 id="2-分析-1"><a href="#2-分析-1" class="headerlink" title="2.分析"></a>2.分析</h3><h4 id="2-1发送邮件思路"><a href="#2-1发送邮件思路" class="headerlink" title="2.1发送邮件思路"></a>2.1发送邮件思路</h4><h5 id="客户端代码"><a href="#客户端代码" class="headerlink" title="客户端代码"></a>客户端代码</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">sendEmail</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    axios.post(<span class="string">&quot;user?action=sendMail&amp;email=&quot;</span>+<span class="built_in">this</span>.email).then(<span class="function"><span class="params">response</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (response.data.flag) &#123;</span><br><span class="line">            <span class="comment">//发送成功</span></span><br><span class="line">            <span class="built_in">this</span>.msg = <span class="string">&quot;发送成功&quot;</span></span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">//发送失败</span></span><br><span class="line">            <span class="built_in">this</span>.msg = <span class="string">&quot;发送失败&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="Servlet的代码"><a href="#Servlet的代码" class="headerlink" title="Servlet的代码"></a>Servlet的代码</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.jwang.web.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.jwang.pojo.ResultBean;</span><br><span class="line"><span class="keyword">import</span> com.jwang.service.UserService;</span><br><span class="line"><span class="keyword">import</span> com.jwang.utils.JedisUtil;</span><br><span class="line"><span class="keyword">import</span> com.jwang.utils.JsonUtils;</span><br><span class="line"><span class="keyword">import</span> redis.clients.jedis.Jedis;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Leevi</span></span><br><span class="line"><span class="comment"> * 日期2020-10-26  16:39</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/user&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserServlet</span> <span class="keyword">extends</span> <span class="title">BaseServlet</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> UserService userService = <span class="keyword">new</span> UserService();</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sendMail</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        ResultBean resultBean = <span class="keyword">new</span> ResultBean(<span class="keyword">true</span>);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//1. 获取请求参数中的邮箱地址</span></span><br><span class="line">            String email = request.getParameter(<span class="string">&quot;email&quot;</span>);</span><br><span class="line">            <span class="comment">//2. 调用业务层的方法，发送邮件</span></span><br><span class="line">            userService.sendMail(email);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            resultBean.setFlag(<span class="keyword">false</span>);</span><br><span class="line">            resultBean.setErrorMsg(<span class="string">&quot;发送邮件失败&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        JsonUtils.printResult(response,resultBean);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="UserService代码"><a href="#UserService代码" class="headerlink" title="UserService代码"></a>UserService代码</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.jwang.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.jwang.utils.JedisUtil;</span><br><span class="line"><span class="keyword">import</span> com.jwang.utils.MailUtil;</span><br><span class="line"><span class="keyword">import</span> redis.clients.jedis.Jedis;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 包名:com.jwang.service</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Leevi</span></span><br><span class="line"><span class="comment"> * 日期2020-10-26  16:42</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sendMail</span><span class="params">(String email)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">//1. 生成随机的验证码</span></span><br><span class="line">        String base = <span class="string">&quot;0123456789ABCDEFGabcdefg&quot;</span>;</span><br><span class="line">        <span class="keyword">int</span> size = base.length();</span><br><span class="line">        Random r = <span class="keyword">new</span> Random();</span><br><span class="line">        StringBuffer sb = <span class="keyword">new</span> StringBuffer();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">4</span>;i++)&#123;</span><br><span class="line">            <span class="comment">//产生0到size-1的随机值</span></span><br><span class="line">            <span class="keyword">int</span> index = r.nextInt(size);</span><br><span class="line">            <span class="comment">//在base字符串中获取下标为index的字符</span></span><br><span class="line">            <span class="keyword">char</span> c = base.charAt(index);</span><br><span class="line">            <span class="comment">//将c放入到StringBuffer中去</span></span><br><span class="line">            sb.append(c);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        String code = sb.toString();<span class="comment">//获取验证码</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//2. 将验证码存储到redis数据库，并且指定过期时间</span></span><br><span class="line">        Jedis jedis = JedisUtil.getJedis();</span><br><span class="line"></span><br><span class="line">        jedis.setex(<span class="string">&quot;user:checkcode&quot;</span>,<span class="number">3</span>*<span class="number">60</span>,code);</span><br><span class="line"></span><br><span class="line">        jedis.close();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3. 发送邮件</span></span><br><span class="line">        MailUtil.sendMail(email,<span class="string">&quot;注册验证码是:&quot;</span>+code+<span class="string">&quot;，请在三分钟之内使用&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="2-2验证思路"><a href="#2-2验证思路" class="headerlink" title="2.2验证思路"></a>2.2验证思路</h4><h5 id="客户端代码-1"><a href="#客户端代码-1" class="headerlink" title="客户端代码"></a>客户端代码</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">register</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    axios.post(<span class="string">&quot;user?action=check&amp;checkCode=&quot;</span>+<span class="built_in">this</span>.checkCode).then(<span class="function"><span class="params">response</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (response.data.flag) &#123;</span><br><span class="line">            <span class="comment">//注册成功</span></span><br><span class="line">            alert(<span class="string">&quot;注册成功&quot;</span>)</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">//注册失败</span></span><br><span class="line">            alert(<span class="string">&quot;注册失败&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="Servlet代码"><a href="#Servlet代码" class="headerlink" title="Servlet代码"></a>Servlet代码</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.jwang.web.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.jwang.pojo.ResultBean;</span><br><span class="line"><span class="keyword">import</span> com.jwang.service.UserService;</span><br><span class="line"><span class="keyword">import</span> com.jwang.utils.JedisUtil;</span><br><span class="line"><span class="keyword">import</span> com.jwang.utils.JsonUtils;</span><br><span class="line"><span class="keyword">import</span> redis.clients.jedis.Jedis;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Leevi</span></span><br><span class="line"><span class="comment"> * 日期2020-10-26  16:39</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/user&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserServlet</span> <span class="keyword">extends</span> <span class="title">BaseServlet</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> UserService userService = <span class="keyword">new</span> UserService();</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sendMail</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        ResultBean resultBean = <span class="keyword">new</span> ResultBean(<span class="keyword">true</span>);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//1. 获取请求参数中的邮箱地址</span></span><br><span class="line">            String email = request.getParameter(<span class="string">&quot;email&quot;</span>);</span><br><span class="line">            <span class="comment">//2. 调用业务层的方法，发送邮件</span></span><br><span class="line">            userService.sendMail(email);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            resultBean.setFlag(<span class="keyword">false</span>);</span><br><span class="line">            resultBean.setErrorMsg(<span class="string">&quot;发送邮件失败&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        JsonUtils.printResult(response,resultBean);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">check</span><span class="params">(HttpServletRequest request,HttpServletResponse response)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        ResultBean resultBean = <span class="keyword">new</span> ResultBean(<span class="keyword">true</span>);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//1. 获取客户端输入的验证码</span></span><br><span class="line">            String checkCode = request.getParameter(<span class="string">&quot;checkCode&quot;</span>);</span><br><span class="line">            <span class="comment">//2. 获取服务器端生成的验证码</span></span><br><span class="line">            Jedis jedis = JedisUtil.getJedis();</span><br><span class="line">            String code = jedis.get(<span class="string">&quot;user:checkcode&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//3. 校验验证码</span></span><br><span class="line">            <span class="keyword">if</span> (!checkCode.equalsIgnoreCase(code))&#123;</span><br><span class="line">                <span class="comment">//校验失败</span></span><br><span class="line">                resultBean.setFlag(<span class="keyword">false</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">//如果验证码校验成功，则将验证码从redis中删除(确保一个验证码只能校验一次)</span></span><br><span class="line">                jedis.del(<span class="string">&quot;user:checkcode&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            jedis.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            resultBean.setFlag(<span class="keyword">false</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        JsonUtils.printResult(response,resultBean);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>








    </div>

    
    
    

    
    <div style="text-align:center;color: #ccc;font-size:14px;">-------------本文结束 <i class="fa fa-heart"></i> 感谢阅读-------------</div>

    
      

        <div class="reward-container">
  <div><p style="font-size:14px; color:#34495e; margin:0 0 5px 0;">赞赏一下吧～ 还可以关注公众号订阅最新内容</p></div>
  <button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    打赏
  </button>
  <div id="qr" style="display: none;">
      
      <div style="display: inline-block;">
        <img src="/images/WechatIMG18.png" alt="jwangtec 微信支付">
        <p>微信支付</p>
      </div>

  </div>
</div>

        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>jwangtec
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="https://www.jwang.cloud/jwangcloud/2066075671/" title="redis">https://www.jwang.cloud/jwangcloud/2066075671/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>


      <footer class="post-footer">
          
          <div class="post-tags">
              <a href="/tags/redis%E5%B8%B8%E7%94%A8%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%8F%8A%E6%93%8D%E4%BD%9C%E5%91%BD%E4%BB%A4/" rel="tag"><i class="fa fa-tag"></i> redis常用数据类型及操作命令</a>
              <a href="/tags/jedis%E6%93%8D%E4%BD%9Credis/" rel="tag"><i class="fa fa-tag"></i> jedis操作redis</a>
              <a href="/tags/redis%E6%8C%81%E4%B9%85%E5%8C%96/" rel="tag"><i class="fa fa-tag"></i> redis持久化</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/jwangcloud/2538997289/" rel="prev" title="搜索和数据分析引擎--Elasticsearch">
      <i class="fa fa-chevron-left"></i> 搜索和数据分析引擎--Elasticsearch
    </a></div>
      <div class="post-nav-item">
    <a href="/jwangcloud/1482967651/" rel="next" title="mysql数据库02--进阶语句">
      mysql数据库02--进阶语句 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  






          </div>
          
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC%E4%B8%80%E7%AB%A0-Redis%E4%BB%8B%E7%BB%8D%E5%92%8C%E5%AE%89%E8%A3%85"><span class="nav-number">1.</span> <span class="nav-text">第一章-Redis介绍和安装</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9-Nosql%E6%A6%82%E8%BF%B0"><span class="nav-number">1.1.</span> <span class="nav-text">知识点-Nosql概述</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E7%9B%AE%E6%A0%87"><span class="nav-number">1.1.1.</span> <span class="nav-text">1.目标</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E8%B7%AF%E5%BE%84"><span class="nav-number">1.1.2.</span> <span class="nav-text">2.路径</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E8%AE%B2%E8%A7%A3"><span class="nav-number">1.1.3.</span> <span class="nav-text">3.讲解</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1-%E4%BB%80%E4%B9%88%E6%98%AFNOSQL"><span class="nav-number">1.1.3.1.</span> <span class="nav-text">3.1 什么是NOSQL</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-2-%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81%E5%AD%A6%E4%B9%A0NOSQL"><span class="nav-number">1.1.3.2.</span> <span class="nav-text">3.2.为什么需要学习NOSQL</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-3-%E4%B8%BB%E6%B5%81%E7%9A%84NOSQL%E4%BA%A7%E5%93%81"><span class="nav-number">1.1.3.3.</span> <span class="nav-text">3.3 主流的NOSQL产品</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-4-NOSQL%E7%9A%84%E7%89%B9%E7%82%B9"><span class="nav-number">1.1.3.4.</span> <span class="nav-text">3.4 NOSQL的特点</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E5%B0%8F%E7%BB%93"><span class="nav-number">1.1.4.</span> <span class="nav-text">4.小结</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9-Redis%E6%A6%82%E8%BF%B0"><span class="nav-number">1.2.</span> <span class="nav-text">知识点-Redis概述</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E7%9B%AE%E6%A0%87-1"><span class="nav-number">1.2.1.</span> <span class="nav-text">1.目标</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E8%B7%AF%E5%BE%84-1"><span class="nav-number">1.2.2.</span> <span class="nav-text">2.路径</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E8%AE%B2%E8%A7%A3-1"><span class="nav-number">1.2.3.</span> <span class="nav-text">3.讲解</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1-%E4%BB%80%E4%B9%88%E6%98%AFRedis"><span class="nav-number">1.2.3.1.</span> <span class="nav-text">3.1.什么是Redis</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-2-redis%E7%9A%84%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="nav-number">1.2.3.2.</span> <span class="nav-text">3.2 redis的应用场景</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E5%B0%8F%E7%BB%93-1"><span class="nav-number">1.2.4.</span> <span class="nav-text">4.小结</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%9E%E6%93%8D-window%E7%89%88Redis%E7%9A%84%E5%AE%89%E8%A3%85"><span class="nav-number">1.3.</span> <span class="nav-text">实操-window版Redis的安装</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E7%9B%AE%E6%A0%87-2"><span class="nav-number">1.3.1.</span> <span class="nav-text">1.目标</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E8%B7%AF%E5%BE%84-2"><span class="nav-number">1.3.2.</span> <span class="nav-text">2.路径</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E8%AE%B2%E8%A7%A3-2"><span class="nav-number">1.3.3.</span> <span class="nav-text">3.讲解</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1-windows%E7%89%88Redis%E7%9A%84%E4%B8%8B%E8%BD%BD"><span class="nav-number">1.3.3.1.</span> <span class="nav-text">3.1.windows版Redis的下载</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-2-Redis%E7%9A%84%E5%AE%89%E8%A3%85"><span class="nav-number">1.3.3.2.</span> <span class="nav-text">3.2 Redis的安装</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-3-%E5%90%AF%E5%8A%A8"><span class="nav-number">1.3.3.3.</span> <span class="nav-text">3.3 启动</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E5%B0%8F%E7%BB%93-2"><span class="nav-number">1.3.4.</span> <span class="nav-text">4.小结</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%9E%E6%93%8D-Linux%E7%89%88%E6%9C%ACRedis%E7%9A%84%E5%AE%89%E8%A3%85"><span class="nav-number">1.4.</span> <span class="nav-text">实操-Linux版本Redis的安装</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E7%9B%AE%E6%A0%87-3"><span class="nav-number">1.4.1.</span> <span class="nav-text">1.目标</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E8%AE%B2%E8%A7%A3"><span class="nav-number">1.4.2.</span> <span class="nav-text">2.讲解</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E5%B0%8F%E7%BB%93"><span class="nav-number">1.4.3.</span> <span class="nav-text">3.小结</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%9E%E6%93%8D-Redis%E7%9A%84%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%AE%89%E8%A3%85"><span class="nav-number">1.5.</span> <span class="nav-text">实操-Redis的客户端安装</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E7%9B%AE%E6%A0%87-4"><span class="nav-number">1.5.1.</span> <span class="nav-text">1.目标</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E6%AD%A5%E9%AA%A4"><span class="nav-number">1.5.2.</span> <span class="nav-text">2.步骤</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC%E4%BA%8C%E7%AB%A0-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="nav-number">2.</span> <span class="nav-text">第二章-Redis的数据类型</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9-redis%E4%B8%AD%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E7%B1%BB%E5%9E%8B"><span class="nav-number">2.1.</span> <span class="nav-text">知识点-redis中数据结构&#x2F;类型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E7%9B%AE%E6%A0%87-5"><span class="nav-number">2.1.1.</span> <span class="nav-text">1.目标</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E8%B7%AF%E5%BE%84-3"><span class="nav-number">2.1.2.</span> <span class="nav-text">2.路径</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E8%AE%B2%E8%A7%A3-3"><span class="nav-number">2.1.3.</span> <span class="nav-text">3.讲解</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="nav-number">2.1.3.1.</span> <span class="nav-text">3.1Redis的数据类型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-2-key"><span class="nav-number">2.1.3.2.</span> <span class="nav-text">3.2 key</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E5%B0%8F%E7%BB%93-3"><span class="nav-number">2.1.4.</span> <span class="nav-text">4.小结</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9-Redis%E5%AD%97%E7%AC%A6%E4%B8%B2-String"><span class="nav-number">2.2.</span> <span class="nav-text">知识点-Redis字符串(String)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E7%9B%AE%E6%A0%87-6"><span class="nav-number">2.2.1.</span> <span class="nav-text">1.目标</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E8%B7%AF%E5%BE%84-4"><span class="nav-number">2.2.2.</span> <span class="nav-text">2.路径</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E8%AE%B2%E8%A7%A3-1"><span class="nav-number">2.2.3.</span> <span class="nav-text">2.讲解</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-1%E6%A6%82%E8%BF%B0"><span class="nav-number">2.2.3.1.</span> <span class="nav-text">2.1概述</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="nav-number">2.2.3.2.</span> <span class="nav-text">2.2 应用场景</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-3-%E5%B8%B8%E8%A7%81%E5%91%BD%E4%BB%A4"><span class="nav-number">2.2.3.3.</span> <span class="nav-text">2.3 常见命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-4%E5%BA%94%E7%94%A8%E4%B8%BE%E4%BE%8B"><span class="nav-number">2.2.3.4.</span> <span class="nav-text">2.4应用举例</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E5%B0%8F%E7%BB%93-4"><span class="nav-number">2.2.4.</span> <span class="nav-text">4.小结</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1String"><span class="nav-number">2.2.4.1.</span> <span class="nav-text">4.1String</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-2%E4%BD%BF%E7%94%A8string%E7%9A%84%E9%97%AE%E9%A2%98"><span class="nav-number">2.2.4.2.</span> <span class="nav-text">4.2使用string的问题</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9-Redis-%E5%93%88%E5%B8%8C-Hash"><span class="nav-number">2.3.</span> <span class="nav-text">知识点-Redis 哈希(Hash)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E7%9B%AE%E6%A0%87-7"><span class="nav-number">2.3.1.</span> <span class="nav-text">1.目标</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E8%B7%AF%E5%BE%84-5"><span class="nav-number">2.3.2.</span> <span class="nav-text">2.路径</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E8%AE%B2%E8%A7%A3-4"><span class="nav-number">2.3.3.</span> <span class="nav-text">3.讲解</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1-%E6%A6%82%E8%BF%B0"><span class="nav-number">2.3.3.1.</span> <span class="nav-text">3.1 概述</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-2-%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="nav-number">2.3.3.2.</span> <span class="nav-text">3.2 应用场景</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-3-%E5%B8%B8%E8%A7%81%E5%91%BD%E4%BB%A4"><span class="nav-number">2.3.3.3.</span> <span class="nav-text">3.3 常见命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-4%E5%BA%94%E7%94%A8%E4%B8%BE%E4%BE%8B"><span class="nav-number">2.3.3.4.</span> <span class="nav-text">3.4应用举例</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E5%B0%8F%E7%BB%93-5"><span class="nav-number">2.3.4.</span> <span class="nav-text">4.小结</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9-Redis-%E5%88%97%E8%A1%A8-List"><span class="nav-number">2.4.</span> <span class="nav-text">知识点-Redis 列表(List)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E7%9B%AE%E6%A0%87-8"><span class="nav-number">2.4.1.</span> <span class="nav-text">1.目标</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E8%B7%AF%E5%BE%84-6"><span class="nav-number">2.4.2.</span> <span class="nav-text">2.路径</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E8%AE%B2%E8%A7%A3-5"><span class="nav-number">2.4.3.</span> <span class="nav-text">3.讲解</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1List%E7%B1%BB%E5%9E%8B"><span class="nav-number">2.4.3.1.</span> <span class="nav-text">3.1List类型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-2-%E6%A6%82%E8%BF%B0"><span class="nav-number">2.4.3.2.</span> <span class="nav-text">3.2 概述</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-2%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="nav-number">2.4.3.3.</span> <span class="nav-text">3.2应用场景</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-3-%E5%B8%B8%E8%A7%81%E5%91%BD%E4%BB%A4-1"><span class="nav-number">2.4.3.4.</span> <span class="nav-text">3.3.常见命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-4%E5%BA%94%E7%94%A8%E4%B8%BE%E4%BE%8B-1"><span class="nav-number">2.4.3.5.</span> <span class="nav-text">3.4应用举例</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E5%B0%8F%E7%BB%93-6"><span class="nav-number">2.4.4.</span> <span class="nav-text">4.小结</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9-Redis-%E9%9B%86%E5%90%88-Set"><span class="nav-number">2.5.</span> <span class="nav-text">知识点-Redis 集合(Set)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E7%9B%AE%E6%A0%87-9"><span class="nav-number">2.5.1.</span> <span class="nav-text">1.目标</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E8%B7%AF%E5%BE%84-7"><span class="nav-number">2.5.2.</span> <span class="nav-text">2.路径</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E8%AE%B2%E8%A7%A3-6"><span class="nav-number">2.5.3.</span> <span class="nav-text">3.讲解</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1%E6%A6%82%E8%BF%B0"><span class="nav-number">2.5.3.1.</span> <span class="nav-text">3.1概述</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-2%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF-1"><span class="nav-number">2.5.3.2.</span> <span class="nav-text">3.2应用场景</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-3-%E5%B8%B8%E8%A7%81%E5%91%BD%E4%BB%A4-2"><span class="nav-number">2.5.3.3.</span> <span class="nav-text">3.3.常见命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-4%E5%BA%94%E7%94%A8%E4%B8%BE%E4%BE%8B-2"><span class="nav-number">2.5.3.4.</span> <span class="nav-text">3.4应用举例</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E5%B0%8F%E7%BB%93-7"><span class="nav-number">2.5.4.</span> <span class="nav-text">4.小结</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9-Redis-%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88-sorted-set-zset"><span class="nav-number">2.6.</span> <span class="nav-text">知识点-Redis 有序集合(sorted set)zset</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E7%9B%AE%E6%A0%87-10"><span class="nav-number">2.6.1.</span> <span class="nav-text">1.目标</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E8%B7%AF%E5%BE%84-8"><span class="nav-number">2.6.2.</span> <span class="nav-text">2.路径</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E8%AE%B2%E8%A7%A3-7"><span class="nav-number">2.6.3.</span> <span class="nav-text">3.讲解</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1%E6%A6%82%E8%BF%B0-1"><span class="nav-number">2.6.3.1.</span> <span class="nav-text">3.1概述</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-2%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF-2"><span class="nav-number">2.6.3.2.</span> <span class="nav-text">3.2应用场景</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-3-%E5%B8%B8%E8%A7%81%E5%91%BD%E4%BB%A4-3"><span class="nav-number">2.6.3.3.</span> <span class="nav-text">3.3.常见命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-4%E5%BA%94%E7%94%A8%E4%B8%BE%E4%BE%8B-3"><span class="nav-number">2.6.3.4.</span> <span class="nav-text">3.4应用举例</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E5%B0%8F%E7%BB%93-8"><span class="nav-number">2.6.4.</span> <span class="nav-text">4.小结</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC%E4%B8%89%E7%AB%A0-Redis%E9%80%9A%E7%94%A8%E7%9A%84%E6%93%8D%E4%BD%9C-%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85%E5%92%8C%E6%8C%81%E4%B9%85%E5%8C%96"><span class="nav-number">3.</span> <span class="nav-text">第三章-Redis通用的操作,发布订阅和持久化</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9-Redis%E9%80%9A%E7%94%A8%E7%9A%84%E6%93%8D%E4%BD%9C-%E4%BA%86%E8%A7%A3"><span class="nav-number">3.1.</span> <span class="nav-text">知识点-Redis通用的操作(了解)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E7%9B%AE%E6%A0%87-11"><span class="nav-number">3.1.1.</span> <span class="nav-text">1.目标</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E8%B7%AF%E5%BE%84-9"><span class="nav-number">3.1.2.</span> <span class="nav-text">2.路径</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E8%AE%B2%E8%A7%A3-8"><span class="nav-number">3.1.3.</span> <span class="nav-text">3.讲解</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1-%E9%80%9A%E7%94%A8%E6%93%8D%E4%BD%9C"><span class="nav-number">3.1.3.1.</span> <span class="nav-text">3.1 通用操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-2-%E5%A4%9A%E6%95%B0%E6%8D%AE%E5%BA%93%E6%80%A7"><span class="nav-number">3.1.3.2.</span> <span class="nav-text">3.2 多数据库性</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E5%B0%8F%E7%BB%93-9"><span class="nav-number">3.1.4.</span> <span class="nav-text">4.小结</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9-%E8%AE%A2%E9%98%85%E5%8F%91%E5%B8%83%E6%9C%BA%E5%88%B6%E3%80%90%E4%BA%86%E8%A7%A3%E3%80%91"><span class="nav-number">3.2.</span> <span class="nav-text">知识点-订阅发布机制【了解】</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E7%9B%AE%E6%A0%87-12"><span class="nav-number">3.2.1.</span> <span class="nav-text">1.目标</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E8%B7%AF%E5%BE%84-10"><span class="nav-number">3.2.2.</span> <span class="nav-text">2.路径</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E8%AE%B2%E8%A7%A3-9"><span class="nav-number">3.2.3.</span> <span class="nav-text">3.讲解</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1%E4%BB%80%E4%B9%88%E6%98%AFRedis%E8%AE%A2%E9%98%85%E5%8F%91%E5%B8%83%E6%9C%BA%E5%88%B6"><span class="nav-number">3.2.3.1.</span> <span class="nav-text">3.1什么是Redis订阅发布机制</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-2%E7%9B%B8%E5%85%B3%E7%9A%84%E5%91%BD%E4%BB%A4"><span class="nav-number">3.2.3.2.</span> <span class="nav-text">3.2相关的命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-3%E8%AE%A2%E9%98%85%E5%8F%91%E5%B8%83%E5%AE%9E%E6%93%8D"><span class="nav-number">3.2.3.3.</span> <span class="nav-text">3.3订阅发布实操</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E5%B0%8F%E7%BB%93-10"><span class="nav-number">3.2.4.</span> <span class="nav-text">4.小结</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9-Redis%E7%9A%84%E6%8C%81%E4%B9%85%E5%8C%96%E3%80%90%E9%9D%A2%E8%AF%95%E3%80%91"><span class="nav-number">3.3.</span> <span class="nav-text">知识点-Redis的持久化【面试】</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E7%9B%AE%E6%A0%87-13"><span class="nav-number">3.3.1.</span> <span class="nav-text">1.目标</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E8%B7%AF%E5%BE%84-11"><span class="nav-number">3.3.2.</span> <span class="nav-text">2.路径</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E8%AE%B2%E8%A7%A3-10"><span class="nav-number">3.3.3.</span> <span class="nav-text">3.讲解</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1RDB%E6%8C%81%E4%B9%85%E5%8C%96%E6%9C%BA%E5%88%B6"><span class="nav-number">3.3.3.1.</span> <span class="nav-text">3.1RDB持久化机制</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#3-1-1%E6%A6%82%E8%BF%B0"><span class="nav-number">3.3.3.1.1.</span> <span class="nav-text">3.1.1概述</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-1-2-RDB%E6%8C%81%E4%B9%85%E5%8C%96%E6%9C%BA%E5%88%B6%E7%9A%84%E9%85%8D%E7%BD%AE"><span class="nav-number">3.3.3.1.2.</span> <span class="nav-text">3.1.2 RDB持久化机制的配置</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-2-AOF%E6%8C%81%E4%B9%85%E5%8C%96%E6%9C%BA%E5%88%B6"><span class="nav-number">3.3.3.2.</span> <span class="nav-text">3.2 AOF持久化机制</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#3-2-1%E6%A6%82%E8%BF%B0"><span class="nav-number">3.3.3.2.1.</span> <span class="nav-text">3.2.1概述</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-2-2AOF%E6%8C%81%E4%B9%85%E5%8C%96%E6%9C%BA%E5%88%B6%E9%85%8D%E7%BD%AE"><span class="nav-number">3.3.3.2.2.</span> <span class="nav-text">3.2.2AOF持久化机制配置</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#3-2-2-1%E5%BC%80%E5%90%AF%E9%85%8D%E7%BD%AE"><span class="nav-number">3.3.3.2.2.1.</span> <span class="nav-text">3.2.2.1开启配置</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#3-2-2-2%E9%85%8D%E7%BD%AE%E8%AF%A6%E8%A7%A3"><span class="nav-number">3.3.3.2.2.2.</span> <span class="nav-text">3.2.2.2配置详解</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E5%B0%8F%E7%BB%93-11"><span class="nav-number">3.3.4.</span> <span class="nav-text">4,小结</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1RDB"><span class="nav-number">3.3.4.1.</span> <span class="nav-text">4.1RDB</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BC%98%E7%82%B9"><span class="nav-number">3.3.4.1.1.</span> <span class="nav-text">优点</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%BC%BA%E7%82%B9"><span class="nav-number">3.3.4.1.2.</span> <span class="nav-text">缺点</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-2AOF"><span class="nav-number">3.3.4.2.</span> <span class="nav-text">4.2AOF</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BC%98%E7%82%B9-1"><span class="nav-number">3.3.4.2.1.</span> <span class="nav-text">优点</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%BC%BA%E7%82%B9-1"><span class="nav-number">3.3.4.2.2.</span> <span class="nav-text">缺点</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-3%E9%80%89%E6%8B%A9"><span class="nav-number">3.3.4.3.</span> <span class="nav-text">4.3选择</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC%E5%9B%9B%E7%AB%A0-Jedis-%EF%BC%88%E9%87%8D%E7%82%B9%EF%BC%89"><span class="nav-number">4.</span> <span class="nav-text">第四章-Jedis  （重点）</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B-Jedis%E7%9A%84%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8"><span class="nav-number">4.1.</span> <span class="nav-text">案例-Jedis的快速入门</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E7%9B%AE%E6%A0%87-14"><span class="nav-number">4.1.1.</span> <span class="nav-text">1.目标</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E8%B7%AF%E5%BE%84-12"><span class="nav-number">4.1.2.</span> <span class="nav-text">2.路径</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E8%AE%B2%E8%A7%A3-11"><span class="nav-number">4.1.3.</span> <span class="nav-text">3.讲解</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1-jedis%E7%9A%84%E4%BB%8B%E7%BB%8D"><span class="nav-number">4.1.3.1.</span> <span class="nav-text">3.1 jedis的介绍</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-2-Jedis%E7%9A%84%E5%85%A5%E9%97%A8"><span class="nav-number">4.1.3.2.</span> <span class="nav-text">3.2 Jedis的入门</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E5%B0%8F%E7%BB%93-12"><span class="nav-number">4.1.4.</span> <span class="nav-text">4.小结</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9-Jedis%E8%BF%9B%E9%98%B6"><span class="nav-number">4.2.</span> <span class="nav-text">知识点-Jedis进阶</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E7%9B%AE%E6%A0%87-15"><span class="nav-number">4.2.1.</span> <span class="nav-text">1.目标</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E8%B7%AF%E5%BE%84-13"><span class="nav-number">4.2.2.</span> <span class="nav-text">2.路径</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E8%AE%B2%E8%A7%A3-12"><span class="nav-number">4.2.3.</span> <span class="nav-text">3.讲解</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1-jedis%E8%BF%9E%E6%8E%A5%E6%B1%A0%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="nav-number">4.2.3.1.</span> <span class="nav-text">3.1 jedis连接池的基本概念</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-2jedis%E8%BF%9E%E6%8E%A5%E6%B1%A0%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="nav-number">4.2.3.2.</span> <span class="nav-text">3.2jedis连接池的使用</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-3Jedis%E5%B7%A5%E5%85%B7%E7%B1%BB%E7%9A%84%E6%8A%BD%E5%8F%96"><span class="nav-number">4.2.3.3.</span> <span class="nav-text">3.3Jedis工具类的抽取</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E5%B0%8F%E7%BB%93-13"><span class="nav-number">4.2.4.</span> <span class="nav-text">4.小结</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B-%E4%BD%BF%E7%94%A8Redis%E4%BC%98%E5%8C%96%E7%9C%81%E4%BB%BD%E7%9A%84%E5%B1%95%E7%A4%BA"><span class="nav-number">4.3.</span> <span class="nav-text">案例-使用Redis优化省份的展示</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E9%9C%80%E6%B1%82"><span class="nav-number">4.3.1.</span> <span class="nav-text">1.需求</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E5%88%86%E6%9E%90"><span class="nav-number">4.3.2.</span> <span class="nav-text">2.分析</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-1%E7%9B%B4%E6%8E%A5%E4%BB%8EMySQL%E8%8E%B7%E5%BE%97"><span class="nav-number">4.3.2.1.</span> <span class="nav-text">2.1直接从MySQL获得</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2%E4%BC%98%E5%8C%96%E7%9A%84%E6%80%9D%E8%B7%AF"><span class="nav-number">4.3.2.2.</span> <span class="nav-text">2.2优化的思路</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0"><span class="nav-number">4.3.3.</span> <span class="nav-text">3.代码实现</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C"><span class="nav-number">4.3.3.1.</span> <span class="nav-text">3.1准备工作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-2%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0"><span class="nav-number">4.3.3.2.</span> <span class="nav-text">3.2代码实现</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E5%B0%8F%E7%BB%93-14"><span class="nav-number">4.3.4.</span> <span class="nav-text">4.小结</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B-%E4%BD%BF%E7%94%A8Redis%E5%AE%8C%E6%88%90%E9%82%AE%E7%AE%B1%E9%AA%8C%E8%AF%81%E7%A0%81%E7%9A%84%E6%A0%A1%E9%AA%8C"><span class="nav-number">4.4.</span> <span class="nav-text">案例-使用Redis完成邮箱验证码的校验</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E9%9C%80%E6%B1%82-1"><span class="nav-number">4.4.1.</span> <span class="nav-text">1.需求</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E5%88%86%E6%9E%90-1"><span class="nav-number">4.4.2.</span> <span class="nav-text">2.分析</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-1%E5%8F%91%E9%80%81%E9%82%AE%E4%BB%B6%E6%80%9D%E8%B7%AF"><span class="nav-number">4.4.2.1.</span> <span class="nav-text">2.1发送邮件思路</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%BB%A3%E7%A0%81"><span class="nav-number">4.4.2.1.1.</span> <span class="nav-text">客户端代码</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Servlet%E7%9A%84%E4%BB%A3%E7%A0%81"><span class="nav-number">4.4.2.1.2.</span> <span class="nav-text">Servlet的代码</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#UserService%E4%BB%A3%E7%A0%81"><span class="nav-number">4.4.2.1.3.</span> <span class="nav-text">UserService代码</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2%E9%AA%8C%E8%AF%81%E6%80%9D%E8%B7%AF"><span class="nav-number">4.4.2.2.</span> <span class="nav-text">2.2验证思路</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%BB%A3%E7%A0%81-1"><span class="nav-number">4.4.2.2.1.</span> <span class="nav-text">客户端代码</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Servlet%E4%BB%A3%E7%A0%81"><span class="nav-number">4.4.2.2.2.</span> <span class="nav-text">Servlet代码</span></a></li></ol></li></ol></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="jwangtec"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">jwangtec</p>
  <div class="site-description" itemprop="description">小脑袋，大智慧</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">124</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">27</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">225</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/jwangtec" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;jwangtec" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.jianshu.com/u/684433bc744b" title="简书 → https:&#x2F;&#x2F;www.jianshu.com&#x2F;u&#x2F;684433bc744b" rel="noopener" target="_blank"><i class="fa fa-heartbeat fa-fw"></i>简书</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://blog.csdn.net/qq_34536604" title="csdn → https:&#x2F;&#x2F;blog.csdn.net&#x2F;qq_34536604" rel="noopener" target="_blank"><i class="fa fa-crosshairs fa-fw"></i>csdn</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://juejin.im/user/5e5c685e6fb9a07cd443bedai" title="掘金 → https:&#x2F;&#x2F;juejin.im&#x2F;user&#x2F;5e5c685e6fb9a07cd443bedai" rel="noopener" target="_blank"><i class="fa fa-spinner fa-fw"></i>掘金</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://app.gitbook.com/@79896867/spaces" title="gitbook → https:&#x2F;&#x2F;app.gitbook.com&#x2F;@79896867&#x2F;spaces" rel="noopener" target="_blank"><i class="fa fa-git fa-fw"></i>gitbook</a>
      </span>
      <span class="links-of-author-item">
        <a href="/jwangtec@163.com" title="E-Mail → jwangtec@163.com"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://www.runoob.com/manual/jdk11api/index.html" title="https:&#x2F;&#x2F;www.runoob.com&#x2F;manual&#x2F;jdk11api&#x2F;index.html" rel="noopener" target="_blank">Java11开发文档</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://spring.io/projects/spring-cloud-azure" title="https:&#x2F;&#x2F;spring.io&#x2F;projects&#x2F;spring-cloud-azure" rel="noopener" target="_blank">Spring cloud</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="http://ife.baidu.com/" title="http:&#x2F;&#x2F;ife.baidu.com&#x2F;" rel="noopener" target="_blank">百度前端技术学院</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://learn666-gif.github.io/Jwang/4cff2ea4.html" title="https:&#x2F;&#x2F;learn666-gif.github.io&#x2F;Jwang&#x2F;4cff2ea4.html" rel="noopener" target="_blank">JAVA体系构建</a>
        </li>
    </ul>
  </div>

      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2018 – 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">jwangtec</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
      <span class="post-meta-item-text">站点总字数：</span>
    <span title="站点总字数">1.4m</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">21:51</span>
</div>


<!-- 网站运行时间的设置 -->
<span id="timeDate">载入天数...</span>
<span id="times">载入时分秒...</span>  努力创造未来
<script>
        var now = new Date();
        function createtime() {
            var grt= new Date("01/05/2018 00:00:00");//此处修改你的建站时间或者网站上线时间
            now.setTime(now.getTime()+250);
            days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days);
            hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours);
            if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);
            mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;}
            seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
            snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;}
            document.getElementById("timeDate").innerHTML = "本站已安全运行 "+dnum+" 天 ";
            document.getElementById("times").innerHTML = hnum + " 小时 " + mnum + " 分 " + snum + " 秒";
    }
    setInterval("createtime()",250);
</script>


        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script size="300" alpha="0.6" zIndex="-1" src="/lib/canvas-ribbon/canvas-ribbon.js"></script>
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/lozad@1/dist/lozad.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>

<script src="/js/bookmark.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : '2UzmUUcYke4dpzoJtJNAzAPL-gzGzoHsz',
      appKey     : 'rdlKv9Hl6K9hnMEp9A1NCRMB',
      placeholder: "留下邮箱，有回复时你将收到提醒，邮箱不会被公开。",
      avatar     : 'wavatar',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : 'zh-cn' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
