---
title: MongoDB数据库03--mongodb实践
categories: 数据库
tags:
  - mongodb实践
top: 8
abbrlink: 449959058
date: 2019-05-07 18:18:19
password:
---


![](https://jwangtec.oss-cn-chengdu.aliyuncs.com/jwangcloud/index/MongoDB.jpeg)



##   mongodb的业务场景

<!--more-->

​	mongodb并没有说哪个业务场景必须一定要使用它才能完成。但是现在也有很多项目在使用mongodb。应用较多的会通过它来记录日志信息、记录监控数据。从目前[阿里云 MongoDB 云数据库](https://link.zhihu.com/?target=https%3A//www.aliyun.com/product/mongodb)上的用户看，MongoDB 的应用已经渗透到各个领域，比如游戏、物流、电商、内容管理、社交、物联网、视频直播等。

- 游戏场景，使用 MongoDB 存储游戏用户信息，用户的装备、积分等直接以内嵌文档的形式存储，方便查询、更新
- 物流场景，使用 MongoDB 存储订单信息，订单状态在运送过程中会不断更新，以 MongoDB 内嵌数组的形式来存储，一次查询就能将订单所有的变更读取出来。
- 社交场景，使用 MongoDB 存储存储用户信息，以及用户发表的朋友圈信息，通过地理位置索引实现附近的人、地点等功能
- 物联网场景，使用 MongoDB 存储所有接入的智能设备信息，以及设备汇报的日志信息，并对这些信息进行多维度的分析
- 视频直播，使用 MongoDB 存储用户信息、礼物信息等

如何来决定是否需要mongodb，主要考虑如下几点问题：

- 应用不需要事务及复杂 join 支持，需求会变，数据模型无法确定，想快速迭代开发。
- 应用需要TB甚至 PB 级别数据存储
- 应用发展迅速，需要能快速水平扩展
- 应用需要99.999%高可用
- 应用需要大量的地理位置查询、文本查询

##  MongoDB有哪些优势

- 面向文档的存储：以 JSON 格式的文档保存数据。
- 任何属性都可以建立索引。
- 丰富的数据类型
- 复制以及高可扩展性。
- 自动分片。
- 丰富的查询功能。
- 快速的即时更新。
- 来自 MongoDB 的专业支持，文档非常全面。

##   你怎么理解的非关系型数据库

非关系型数据库是对不同于传统关系型数据库的统称。非关系型数据库的显著特点是不使用SQL作为查询语言，数据存储不需要特定的表格模式。

##   MongoDB中的分片是什么

分片是将数据水平切分到不同的物理节点。当应用数据越来越大的时候，数据量也会越来越大。当数据量增长时，单台机器有可能无法存储数据或可接受的读取写入吞吐量。利用分片技术可以添加更多的机器来应对数据量增加以及读写操作的要求。

##   MongoDB集群一般存在多少台服务器

​	一般为奇数台，因为涉及到选主，有超过半数的概念。是由hash进行分片，但是会存在非均匀分布。

##   mongodb支持的数据类型

- String
- Integer
- Double
- Boolean
- Object
- Object ID
- Arrays
- Min/Max Keys
- Datetime
- Code

##   $set是什么

​	通过它可以完成对数据的更新，并且不会对原有的未修改值进行变动。 

##   什么是聚合 

​	聚合操作能够处理数据记录并返回计算结果。聚合操作能将多个文档中的值组合起来，对成组数据执行各种操作，返回单一的结果。它相当于 SQL 中的 count(*) 组合 group by。对于 MongoDB 中的聚合操作，应该使用`aggregate()`方法。